{"version":3,"names":["_chat","require","_groupChannel","_createTestContext","_createMockChannel","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","createMockGroupChannelCollection","params","MockGroupChannelCollection","exports","tc","createTestContext","constructor","GroupChannelFilter","GroupChannelListOrder","LATEST_LAST_MESSAGE","jest","fn","__handlerId","sdk","__context","groupChannelCollectionHandlers","channels","Array","limit","fill","map","createMockChannel","channelType","ChannelType","GROUP","asGroupChannel","handler","getRandom","assign"],"sources":["createMockGroupChannelCollection.ts"],"sourcesContent":["// @ts-nocheck\nimport { ChannelType } from '@sendbird/chat';\nimport {\n  GroupChannel,\n  GroupChannelCollectionEventHandler,\n  GroupChannelCollectionParams,\n  GroupChannelFilter,\n  GroupChannelListOrder,\n} from '@sendbird/chat/groupChannel';\nimport type { SendbirdGroupChannelCollection } from '@sendbird/uikit-utils';\n\nimport type { GetMockParams, GetMockProps } from '../types';\nimport { createTestContext } from '../utils/createTestContext';\nimport { createMockChannel } from './createMockChannel';\n\ntype Params = GetMockParams<GroupChannelCollectionParams & { hasMore: boolean }>;\nexport const createMockGroupChannelCollection = (params: Params) => {\n  return new MockGroupChannelCollection(params);\n};\n\nconst tc = createTestContext();\n\nclass MockGroupChannelCollection implements GetMockProps<Params, SendbirdGroupChannelCollection> {\n  constructor(public params: Params) {\n    Object.assign(this, params);\n  }\n  __handlerId?: string;\n\n  channels: GroupChannel[] = [];\n  filter: GroupChannelFilter = new GroupChannelFilter();\n  order: GroupChannelListOrder = GroupChannelListOrder.LATEST_LAST_MESSAGE;\n\n  dispose = jest.fn(() => {\n    if (this.__handlerId && this.params.sdk) {\n      delete this.params.sdk.__context.groupChannelCollectionHandlers[this.__handlerId];\n    }\n  });\n\n  hasMore = true;\n\n  loadMore = jest.fn(async () => {\n    const channels = Array(this.params.limit ?? 20)\n      .fill(null)\n      .map(() => createMockChannel({ sdk: this.params.sdk, channelType: ChannelType.GROUP }).asGroupChannel());\n\n    this.channels = [...this.channels, ...channels];\n    return channels;\n  });\n\n  setGroupChannelCollectionHandler = jest.fn((handler: GroupChannelCollectionEventHandler) => {\n    if (this.params.sdk) {\n      this.__handlerId = String(tc.getRandom());\n      this.params.sdk.__context.groupChannelCollectionHandlers[this.__handlerId] = handler;\n    }\n  });\n}\n"],"mappings":"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"}