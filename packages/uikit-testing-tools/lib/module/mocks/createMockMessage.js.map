{"version":3,"names":["ChannelType","MessageType","SendingStatus","createTestContext","createMockMessage","params","MockMessage","tc","constructor","_defineProperty","BASE","getHash","date","increment","getRandom","increaseIncrement","__updateIdsBySendingStatus","Object","assign","sendingStatus","self","asSendableMessage","reqId","String","Date","now","unsent","PENDING","FAILED","CANCELED","some","it","messageId","isFileMessage","messageType","FILE","prototype","hasOwnProperty","call","isMultipleFilesMessage","isUserMessage","USER","isAdminMessage","ADMIN","applyParentMessage","applyReactionEvent","applyThreadInfoUpdateEvent","getMetaArraysByKeys","isEqual","isIdentical","serialize","deleteFeedback","_","Promise","resolve","undefined","hasForm","forms","submitFeedback","submitForm","updateFeedback","markThreadAsRead","setPushNotificationEnabled","asFileMessage","asUserMessage","asAdminMessage","asBaseMessage"],"sources":["createMockMessage.ts"],"sourcesContent":["// @ts-nocheck\nimport { ChannelType } from '@sendbird/chat';\nimport { NotificationData } from '@sendbird/chat/feedChannel';\nimport { Form } from '@sendbird/chat/lib/__definition';\nimport { AdminMessage, Feedback, FeedbackStatus, MessageType, SendingStatus } from '@sendbird/chat/message';\nimport type {\n  SendbirdAdminMessage,\n  SendbirdBaseMessage,\n  SendbirdFileMessage,\n  SendbirdMultipleFilesMessage,\n  SendbirdSendableMessage,\n  SendbirdUserMessage,\n} from '@sendbird/uikit-utils';\n\nimport type { GetMockParams, GetMockProps } from '../types';\nimport { createTestContext } from '../utils/createTestContext';\n\ntype Params = GetMockParams<SendbirdFileMessage & SendbirdUserMessage & SendbirdAdminMessage>;\nexport const createMockMessage = (params: Params) => {\n  return new MockMessage(params);\n};\n\nconst tc = createTestContext();\n\nclass MockMessage implements GetMockProps<Params, SendbirdBaseMessage> {\n  constructor(public params: Params) {\n    tc.increaseIncrement();\n    this.__updateIdsBySendingStatus(params);\n    Object.assign(this, params);\n  }\n\n  __updateIdsBySendingStatus(params: Params) {\n    if (!params.sendingStatus) return;\n\n    const self = this.asSendableMessage();\n    self.reqId = String(Date.now()) + tc.increment;\n\n    const unsent = [SendingStatus.PENDING, SendingStatus.FAILED, SendingStatus.CANCELED].some(\n      (it) => params.sendingStatus === it,\n    );\n    if (unsent) {\n      self.messageId = 0;\n    } else {\n      self.messageId = tc.getRandom();\n    }\n  }\n\n  channelType = ChannelType.BASE;\n  channelUrl = 'channel_url_' + tc.getHash();\n  createdAt = tc.date + tc.increment;\n  updatedAt = 0;\n  messageId = tc.getRandom();\n  messageType = MessageType.BASE;\n  parentMessageId = 0;\n  parentMessage = null;\n  silent = false;\n  isOperatorMessage = false;\n  data = '';\n  customType = '';\n  mentionType = null;\n  mentionedUsers = null;\n  mentionedUserIds = null;\n  mentionedMessageTemplate = '';\n  threadInfo = null;\n  reactions = [];\n  metaArrays = [];\n  ogMetaData = null;\n  appleCriticalAlertOptions = null;\n  scheduledInfo = null;\n  extendedMessage = {};\n  notificationData: NotificationData | null = null;\n  forms: Form[] | null = null;\n  myFeedback: Feedback | null = null;\n  myFeedbackStatus: FeedbackStatus = 'NO_FEEDBACK';\n  suggestedReplies: string[] | null = null;\n\n  isFileMessage(): this is SendbirdFileMessage {\n    return this.messageType === MessageType.FILE && !Object.prototype.hasOwnProperty.call(this, 'fileInfoList');\n  }\n\n  isMultipleFilesMessage(): this is SendbirdMultipleFilesMessage {\n    return this.messageType === MessageType.FILE && Object.prototype.hasOwnProperty.call(this, 'fileInfoList');\n  }\n  isUserMessage(): this is SendbirdUserMessage {\n    return this.messageType === MessageType.USER;\n  }\n  isAdminMessage(): this is SendbirdAdminMessage {\n    return this.messageType === MessageType.ADMIN;\n  }\n  applyParentMessage(): boolean {\n    return false;\n  }\n\n  applyReactionEvent(): void {\n    return;\n  }\n\n  applyThreadInfoUpdateEvent(): boolean {\n    return false;\n  }\n\n  getMetaArraysByKeys() {\n    return [];\n  }\n\n  isEqual(): boolean {\n    return false;\n  }\n\n  isIdentical(): boolean {\n    return false;\n  }\n\n  serialize(): object {\n    return Object.assign({}, this);\n  }\n\n  deleteFeedback(_: number): Promise<void> {\n    return Promise.resolve(undefined);\n  }\n\n  hasForm(): this is AdminMessage {\n    return this.forms !== null;\n  }\n\n  submitFeedback(_: Pick<Feedback, 'rating' | 'comment'>): Promise<void> {\n    return Promise.resolve(undefined);\n  }\n\n  submitForm(_: { formId?: string; answers?: Record<string, string> }): Promise<void> {\n    return Promise.resolve(undefined);\n  }\n\n  updateFeedback(_: Feedback): Promise<void> {\n    return Promise.resolve(undefined);\n  }\n  markThreadAsRead(): Promise<void> {\n    return Promise.resolve();\n  }\n  setPushNotificationEnabled(_: boolean): Promise<void> {\n    return Promise.resolve();\n  }\n\n  asFileMessage(): SendbirdFileMessage {\n    return this as unknown as SendbirdFileMessage;\n  }\n  asUserMessage(): SendbirdUserMessage {\n    return this as unknown as SendbirdUserMessage;\n  }\n  asAdminMessage(): SendbirdAdminMessage {\n    return this as unknown as SendbirdAdminMessage;\n  }\n  asSendableMessage(): SendbirdSendableMessage {\n    return this as unknown as SendbirdSendableMessage;\n  }\n  asBaseMessage(): SendbirdBaseMessage {\n    return this as unknown as SendbirdBaseMessage;\n  }\n}\n"],"mappings":"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"}