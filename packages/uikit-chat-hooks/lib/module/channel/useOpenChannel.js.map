{"version":3,"names":["useReducer","useAsyncEffect","initialState","loading","error","undefined","channel","reducer","state","nextState","useOpenChannel","sdk","channelUrl","setState","openChannel","getChannel","e"],"sources":["useOpenChannel.ts"],"sourcesContent":["import { useReducer } from 'react';\n\nimport { SendbirdChatSDK, SendbirdOpenChannel, useAsyncEffect } from '@sendbird/uikit-utils';\n\ntype State = { loading: boolean; channel?: SendbirdOpenChannel; error?: unknown };\n\nconst initialState: State = { loading: true, error: undefined, channel: undefined };\nconst reducer = (state: State, nextState: Partial<State>) => ({ ...state, ...nextState });\n\nexport const useOpenChannel = (sdk: SendbirdChatSDK, channelUrl: string) => {\n  const [state, setState] = useReducer(reducer, initialState);\n\n  useAsyncEffect(async () => {\n    setState(initialState);\n\n    try {\n      setState({ channel: await sdk.openChannel.getChannel(channelUrl), loading: false });\n    } catch (e) {\n      setState({ error: e, loading: false });\n    }\n  }, [channelUrl]);\n\n  return state;\n};\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,OAAO;AAElC,SAA+CC,cAAc,QAAQ,uBAAuB;AAI5F,MAAMC,YAAmB,GAAG;EAAEC,OAAO,EAAE,IAAI;EAAEC,KAAK,EAAEC,SAAS;EAAEC,OAAO,EAAED;AAAU,CAAC;AACnF,MAAME,OAAO,GAAGA,CAACC,KAAY,EAAEC,SAAyB,MAAM;EAAE,GAAGD,KAAK;EAAE,GAAGC;AAAU,CAAC,CAAC;AAEzF,OAAO,MAAMC,cAAc,GAAGA,CAACC,GAAoB,EAAEC,UAAkB,KAAK;EAC1E,MAAM,CAACJ,KAAK,EAAEK,QAAQ,CAAC,GAAGb,UAAU,CAACO,OAAO,EAAEL,YAAY,CAAC;EAE3DD,cAAc,CAAC,YAAY;IACzBY,QAAQ,CAACX,YAAY,CAAC;IAEtB,IAAI;MACFW,QAAQ,CAAC;QAAEP,OAAO,EAAE,MAAMK,GAAG,CAACG,WAAW,CAACC,UAAU,CAACH,UAAU,CAAC;QAAET,OAAO,EAAE;MAAM,CAAC,CAAC;IACrF,CAAC,CAAC,OAAOa,CAAC,EAAE;MACVH,QAAQ,CAAC;QAAET,KAAK,EAAEY,CAAC;QAAEb,OAAO,EAAE;MAAM,CAAC,CAAC;IACxC;EACF,CAAC,EAAE,CAACS,UAAU,CAAC,CAAC;EAEhB,OAAOJ,KAAK;AACd,CAAC"}