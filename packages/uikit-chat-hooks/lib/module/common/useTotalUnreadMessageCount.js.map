{"version":3,"names":["useState","SuperChannelFilter","truncatedCount","useAsyncEffect","useUniqHandlerId","useUserEventHandler","useTotalUnreadMessageCount","sdk","options","_options$params","_options$params2","handlerId","unreadMessageCount","setUnreadMessageCount","unreadCount","groupChannel","getTotalUnreadMessageCount","superChannelFilter","ALL","params","channelCustomTypesFilter","onTotalUnreadMessageCountUpdated","totalCount","maxCount"],"sources":["useTotalUnreadMessageCount.ts"],"sourcesContent":["import { useState } from 'react';\n\nimport { SuperChannelFilter, TotalUnreadMessageCountParams } from '@sendbird/chat/groupChannel';\nimport type { SendbirdChatSDK } from '@sendbird/uikit-utils';\nimport { truncatedCount, useAsyncEffect, useUniqHandlerId } from '@sendbird/uikit-utils';\n\nimport { useUserEventHandler } from '../handler/useUserEventHandler';\n\ntype Options = {\n  params?: TotalUnreadMessageCountParams;\n  maxCount?: number;\n};\n\nexport const useTotalUnreadMessageCount = (sdk: SendbirdChatSDK, options?: Options) => {\n  const handlerId = useUniqHandlerId('useTotalUnreadMessageCount');\n  const [unreadMessageCount, setUnreadMessageCount] = useState(0);\n\n  useAsyncEffect(async () => {\n    const unreadCount = await sdk.groupChannel.getTotalUnreadMessageCount({\n      superChannelFilter: SuperChannelFilter.ALL,\n      ...options?.params,\n    });\n    setUnreadMessageCount(unreadCount);\n  }, [sdk, options?.params?.superChannelFilter, options?.params?.channelCustomTypesFilter]);\n\n  useUserEventHandler(sdk, handlerId, {\n    onTotalUnreadMessageCountUpdated: (totalCount: number) => setUnreadMessageCount(totalCount),\n  });\n\n  return truncatedCount(unreadMessageCount, options?.maxCount);\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,SAASC,kBAAkB,QAAuC,6BAA6B;AAE/F,SAASC,cAAc,EAAEC,cAAc,EAAEC,gBAAgB,QAAQ,uBAAuB;AAExF,SAASC,mBAAmB,QAAQ,gCAAgC;AAOpE,OAAO,MAAMC,0BAA0B,GAAGA,CAACC,GAAoB,EAAEC,OAAiB,KAAK;EAAA,IAAAC,eAAA,EAAAC,gBAAA;EACrF,MAAMC,SAAS,GAAGP,gBAAgB,CAAC,4BAA4B,CAAC;EAChE,MAAM,CAACQ,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC;EAE/DG,cAAc,CAAC,YAAY;IACzB,MAAMW,WAAW,GAAG,MAAMP,GAAG,CAACQ,YAAY,CAACC,0BAA0B,CAAC;MACpEC,kBAAkB,EAAEhB,kBAAkB,CAACiB,GAAG;MAC1C,IAAGV,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEW,MAAM;IACpB,CAAC,CAAC;IACFN,qBAAqB,CAACC,WAAW,CAAC;EACpC,CAAC,EAAE,CAACP,GAAG,EAAEC,OAAO,aAAPA,OAAO,wBAAAC,eAAA,GAAPD,OAAO,CAAEW,MAAM,cAAAV,eAAA,uBAAfA,eAAA,CAAiBQ,kBAAkB,EAAET,OAAO,aAAPA,OAAO,wBAAAE,gBAAA,GAAPF,OAAO,CAAEW,MAAM,cAAAT,gBAAA,uBAAfA,gBAAA,CAAiBU,wBAAwB,CAAC,CAAC;EAEzFf,mBAAmB,CAACE,GAAG,EAAEI,SAAS,EAAE;IAClCU,gCAAgC,EAAGC,UAAkB,IAAKT,qBAAqB,CAACS,UAAU;EAC5F,CAAC,CAAC;EAEF,OAAOpB,cAAc,CAACU,kBAAkB,EAAEJ,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEe,QAAQ,CAAC;AAC9D,CAAC"}