{"version":3,"names":["useCallback","useState","PushTriggerOption","Logger","useAsyncEffect","PushTriggerMap","ALL","MENTION_ONLY","OFF","DEFAULT","usePushTrigger","sdk","option","setOption","updateOption","value","_option","setPushTriggerOption","then","e","warn","currentUser","getPushTriggerOption"],"sources":["usePushTrigger.ts"],"sourcesContent":["import { useCallback, useState } from 'react';\n\nimport { PushTriggerOption } from '@sendbird/chat';\nimport type { SendbirdChatSDK } from '@sendbird/uikit-utils';\nimport { Logger, useAsyncEffect } from '@sendbird/uikit-utils';\n\nconst PushTriggerMap = {\n  'all': PushTriggerOption.ALL,\n  'mention_only': PushTriggerOption.MENTION_ONLY,\n  'off': PushTriggerOption.OFF,\n  'default': PushTriggerOption.DEFAULT,\n};\n\nexport const usePushTrigger = (sdk: SendbirdChatSDK) => {\n  const [option, setOption] = useState<PushTriggerOption>(PushTriggerOption.DEFAULT);\n\n  const updateOption = useCallback(\n    async (value: keyof typeof PushTriggerMap) => {\n      try {\n        const _option = PushTriggerMap[value];\n        await sdk.setPushTriggerOption(_option).then(() => setOption(_option));\n      } catch (e) {\n        Logger.warn('[usePushTrigger]', 'Cannot update push trigger option', e);\n      }\n    },\n    [sdk, sdk.currentUser],\n  );\n\n  useAsyncEffect(async () => {\n    setOption(await sdk.getPushTriggerOption());\n  }, [sdk, sdk.currentUser]);\n\n  return {\n    option,\n    updateOption,\n  };\n};\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAE7C,SAASC,iBAAiB,QAAQ,gBAAgB;AAElD,SAASC,MAAM,EAAEC,cAAc,QAAQ,uBAAuB;AAE9D,MAAMC,cAAc,GAAG;EACrB,KAAK,EAAEH,iBAAiB,CAACI,GAAG;EAC5B,cAAc,EAAEJ,iBAAiB,CAACK,YAAY;EAC9C,KAAK,EAAEL,iBAAiB,CAACM,GAAG;EAC5B,SAAS,EAAEN,iBAAiB,CAACO;AAC/B,CAAC;AAED,OAAO,MAAMC,cAAc,GAAIC,GAAoB,IAAK;EACtD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAoBC,iBAAiB,CAACO,OAAO,CAAC;EAElF,MAAMK,YAAY,GAAGd,WAAW,CAC9B,MAAOe,KAAkC,IAAK;IAC5C,IAAI;MACF,MAAMC,OAAO,GAAGX,cAAc,CAACU,KAAK,CAAC;MACrC,MAAMJ,GAAG,CAACM,oBAAoB,CAACD,OAAO,CAAC,CAACE,IAAI,CAAC,MAAML,SAAS,CAACG,OAAO,CAAC,CAAC;IACxE,CAAC,CAAC,OAAOG,CAAC,EAAE;MACVhB,MAAM,CAACiB,IAAI,CAAC,kBAAkB,EAAE,mCAAmC,EAAED,CAAC,CAAC;IACzE;EACF,CAAC,EACD,CAACR,GAAG,EAAEA,GAAG,CAACU,WAAW,CAAC,CACvB;EAEDjB,cAAc,CAAC,YAAY;IACzBS,SAAS,CAAC,MAAMF,GAAG,CAACW,oBAAoB,EAAE,CAAC;EAC7C,CAAC,EAAE,CAACX,GAAG,EAAEA,GAAG,CAACU,WAAW,CAAC,CAAC;EAE1B,OAAO;IACLT,MAAM;IACNE;EACF,CAAC;AACH,CAAC"}