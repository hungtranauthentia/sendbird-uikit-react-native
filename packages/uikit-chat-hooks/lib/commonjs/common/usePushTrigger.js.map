{"version":3,"names":["_react","require","_chat","_uikitUtils","PushTriggerMap","PushTriggerOption","ALL","MENTION_ONLY","OFF","DEFAULT","usePushTrigger","sdk","option","setOption","useState","updateOption","useCallback","value","_option","setPushTriggerOption","then","e","Logger","warn","currentUser","useAsyncEffect","getPushTriggerOption","exports"],"sources":["usePushTrigger.ts"],"sourcesContent":["import { useCallback, useState } from 'react';\n\nimport { PushTriggerOption } from '@sendbird/chat';\nimport type { SendbirdChatSDK } from '@sendbird/uikit-utils';\nimport { Logger, useAsyncEffect } from '@sendbird/uikit-utils';\n\nconst PushTriggerMap = {\n  'all': PushTriggerOption.ALL,\n  'mention_only': PushTriggerOption.MENTION_ONLY,\n  'off': PushTriggerOption.OFF,\n  'default': PushTriggerOption.DEFAULT,\n};\n\nexport const usePushTrigger = (sdk: SendbirdChatSDK) => {\n  const [option, setOption] = useState<PushTriggerOption>(PushTriggerOption.DEFAULT);\n\n  const updateOption = useCallback(\n    async (value: keyof typeof PushTriggerMap) => {\n      try {\n        const _option = PushTriggerMap[value];\n        await sdk.setPushTriggerOption(_option).then(() => setOption(_option));\n      } catch (e) {\n        Logger.warn('[usePushTrigger]', 'Cannot update push trigger option', e);\n      }\n    },\n    [sdk, sdk.currentUser],\n  );\n\n  useAsyncEffect(async () => {\n    setOption(await sdk.getPushTriggerOption());\n  }, [sdk, sdk.currentUser]);\n\n  return {\n    option,\n    updateOption,\n  };\n};\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAAC,KAAA,GAAAD,OAAA;AAEA,IAAAE,WAAA,GAAAF,OAAA;AAEA,MAAMG,cAAc,GAAG;EACrB,KAAK,EAAEC,uBAAiB,CAACC,GAAG;EAC5B,cAAc,EAAED,uBAAiB,CAACE,YAAY;EAC9C,KAAK,EAAEF,uBAAiB,CAACG,GAAG;EAC5B,SAAS,EAAEH,uBAAiB,CAACI;AAC/B,CAAC;AAEM,MAAMC,cAAc,GAAIC,GAAoB,IAAK;EACtD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG,IAAAC,eAAQ,EAAoBT,uBAAiB,CAACI,OAAO,CAAC;EAElF,MAAMM,YAAY,GAAG,IAAAC,kBAAW,EAC9B,MAAOC,KAAkC,IAAK;IAC5C,IAAI;MACF,MAAMC,OAAO,GAAGd,cAAc,CAACa,KAAK,CAAC;MACrC,MAAMN,GAAG,CAACQ,oBAAoB,CAACD,OAAO,CAAC,CAACE,IAAI,CAAC,MAAMP,SAAS,CAACK,OAAO,CAAC,CAAC;IACxE,CAAC,CAAC,OAAOG,CAAC,EAAE;MACVC,kBAAM,CAACC,IAAI,CAAC,kBAAkB,EAAE,mCAAmC,EAAEF,CAAC,CAAC;IACzE;EACF,CAAC,EACD,CAACV,GAAG,EAAEA,GAAG,CAACa,WAAW,CAAC,CACvB;EAED,IAAAC,0BAAc,EAAC,YAAY;IACzBZ,SAAS,CAAC,MAAMF,GAAG,CAACe,oBAAoB,EAAE,CAAC;EAC7C,CAAC,EAAE,CAACf,GAAG,EAAEA,GAAG,CAACa,WAAW,CAAC,CAAC;EAE1B,OAAO;IACLZ,MAAM;IACNG;EACF,CAAC;AACH,CAAC;AAACY,OAAA,CAAAjB,cAAA,GAAAA,cAAA"}