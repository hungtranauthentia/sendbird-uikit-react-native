{"version":3,"names":["React","urlRegexStrict","Box","RegexText","Text","createStyleSheet","useUIKitTheme","MessageBubbleWithText","_ref","backgroundColor","message","onPressURL","onLongPress","strings","variant","regexTextPatterns","renderRegexTextChildren","msg","colors","color","ui","groupChannelMessage","createElement","style","styles","bubble","body3","enabled","textMsg","suppressHighlighting","patterns","regex","replacer","_ref2","match","parentProps","keyPrefix","index","_extends","key","onPress","urlText","Boolean","updatedAt","textEdited","edited","paddingHorizontal","paddingVertical","textDecorationLine"],"sources":["MessageBubbleWithText.tsx"],"sourcesContent":["import React from 'react';\n\nimport { SendbirdUserMessage, urlRegexStrict } from '@sendbird/uikit-utils';\n\nimport Box from '../../components/Box';\nimport RegexText, { RegexTextPattern } from '../../components/RegexText';\nimport Text from '../../components/Text';\nimport createStyleSheet from '../../styles/createStyleSheet';\nimport useUIKitTheme from '../../theme/useUIKitTheme';\nimport type { GroupChannelMessageProps } from './index';\n\ntype Props = GroupChannelMessageProps<\n  SendbirdUserMessage,\n  {\n    backgroundColor?: string;\n    regexTextPatterns?: RegexTextPattern[];\n    renderRegexTextChildren?: (message: SendbirdUserMessage) => string;\n  }\n>;\n\nconst MessageBubbleWithText = ({\n  backgroundColor,\n  message,\n  onPressURL,\n  onLongPress,\n  strings,\n  variant = 'incoming',\n  regexTextPatterns = [],\n  renderRegexTextChildren = (msg) => msg.message,\n}: Props) => {\n  const { colors } = useUIKitTheme();\n  const color = colors.ui.groupChannelMessage[variant];\n  return (\n    <Box backgroundColor={backgroundColor} style={styles.bubble}>\n      <Text body3 color={color.enabled.textMsg} suppressHighlighting>\n        <RegexText\n          body3\n          color={color.enabled.textMsg}\n          patterns={[\n            ...regexTextPatterns,\n            {\n              regex: urlRegexStrict,\n              replacer({ match, parentProps, keyPrefix, index }) {\n                return (\n                  <Text\n                    {...parentProps}\n                    key={`${keyPrefix}-${index}`}\n                    onPress={() => onPressURL?.(match)}\n                    onLongPress={onLongPress}\n                    style={[parentProps?.style, styles.urlText]}\n                  >\n                    {match}\n                  </Text>\n                );\n              },\n            },\n          ]}\n        >\n          {renderRegexTextChildren(message)}\n        </RegexText>\n        {Boolean(message.updatedAt) && (\n          <Text body3 color={color.enabled.textEdited}>\n            {strings?.edited ?? ' (edited)'}\n          </Text>\n        )}\n      </Text>\n    </Box>\n  );\n};\n\nconst styles = createStyleSheet({\n  bubble: {\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n  },\n  urlText: {\n    textDecorationLine: 'underline',\n  },\n});\nexport default MessageBubbleWithText;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAA8BC,cAAc,QAAQ,uBAAuB;AAE3E,OAAOC,GAAG,MAAM,sBAAsB;AACtC,OAAOC,SAAS,MAA4B,4BAA4B;AACxE,OAAOC,IAAI,MAAM,uBAAuB;AACxC,OAAOC,gBAAgB,MAAM,+BAA+B;AAC5D,OAAOC,aAAa,MAAM,2BAA2B;AAYrD,MAAMC,qBAAqB,GAAGC,IAAA,IASjB;EAAA,IATkB;IAC7BC,eAAe;IACfC,OAAO;IACPC,UAAU;IACVC,WAAW;IACXC,OAAO;IACPC,OAAO,GAAG,UAAU;IACpBC,iBAAiB,GAAG,EAAE;IACtBC,uBAAuB,GAAIC,GAAG,IAAKA,GAAG,CAACP;EAClC,CAAC,GAAAF,IAAA;EACN,MAAM;IAAEU;EAAO,CAAC,GAAGZ,aAAa,EAAE;EAClC,MAAMa,KAAK,GAAGD,MAAM,CAACE,EAAE,CAACC,mBAAmB,CAACP,OAAO,CAAC;EACpD,oBACEd,KAAA,CAAAsB,aAAA,CAACpB,GAAG;IAACO,eAAe,EAAEA,eAAgB;IAACc,KAAK,EAAEC,MAAM,CAACC;EAAO,gBAC1DzB,KAAA,CAAAsB,aAAA,CAAClB,IAAI;IAACsB,KAAK;IAACP,KAAK,EAAEA,KAAK,CAACQ,OAAO,CAACC,OAAQ;IAACC,oBAAoB;EAAA,gBAC5D7B,KAAA,CAAAsB,aAAA,CAACnB,SAAS;IACRuB,KAAK;IACLP,KAAK,EAAEA,KAAK,CAACQ,OAAO,CAACC,OAAQ;IAC7BE,QAAQ,EAAE,CACR,GAAGf,iBAAiB,EACpB;MACEgB,KAAK,EAAE9B,cAAc;MACrB+B,QAAQA,CAAAC,KAAA,EAA2C;QAAA,IAA1C;UAAEC,KAAK;UAAEC,WAAW;UAAEC,SAAS;UAAEC;QAAM,CAAC,GAAAJ,KAAA;QAC/C,oBACEjC,KAAA,CAAAsB,aAAA,CAAClB,IAAI,EAAAkC,QAAA,KACCH,WAAW;UACfI,GAAG,EAAG,GAAEH,SAAU,IAAGC,KAAM,EAAE;UAC7BG,OAAO,EAAEA,CAAA,KAAM7B,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAGuB,KAAK,CAAE;UACnCtB,WAAW,EAAEA,WAAY;UACzBW,KAAK,EAAE,CAACY,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEZ,KAAK,EAAEC,MAAM,CAACiB,OAAO;QAAE,IAE3CP,KAAK,CACD;MAEX;IACF,CAAC;EACD,GAEDlB,uBAAuB,CAACN,OAAO,CAAC,CACvB,EACXgC,OAAO,CAAChC,OAAO,CAACiC,SAAS,CAAC,iBACzB3C,KAAA,CAAAsB,aAAA,CAAClB,IAAI;IAACsB,KAAK;IAACP,KAAK,EAAEA,KAAK,CAACQ,OAAO,CAACiB;EAAW,GACzC,CAAA/B,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEgC,MAAM,KAAI,WAAW,CAElC,CACI,CACH;AAEV,CAAC;AAED,MAAMrB,MAAM,GAAGnB,gBAAgB,CAAC;EAC9BoB,MAAM,EAAE;IACNqB,iBAAiB,EAAE,EAAE;IACrBC,eAAe,EAAE;EACnB,CAAC;EACDN,OAAO,EAAE;IACPO,kBAAkB,EAAE;EACtB;AACF,CAAC,CAAC;AACF,eAAezC,qBAAqB"}