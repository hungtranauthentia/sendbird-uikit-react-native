{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_uikitUtils","_Box","_Text","_createStyleSheet","_useUIKitTheme","_Avatar","obj","__esModule","default","MessageContainer","props","variant","createElement","Incoming","Outgoing","MessageContainerIncoming","_ref","_message$sender","children","groupedWithNext","groupedWithPrev","message","onPressAvatar","strings","parentMessage","colors","useUIKitTheme","color","ui","groupChannelMessage","incoming","flexDirection","justifyContent","alignItems","width","marginRight","isFileMessage","isUserMessage","Pressable","onPress","size","uri","sender","profileUrl","flexShrink","marginLeft","marginBottom","caption1","enabled","textSenderName","numberOfLines","senderName","nickname","style","styles","bubble","caption4","textTime","sentDate","getMessageTimeFormat","Date","createdAt","MessageContainerOutgoing","_ref2","sendingStatus","outgoing","createStyleSheet","maxWidth","overflow","_default","exports"],"sources":["MessageContainer.tsx"],"sourcesContent":["import React from 'react';\nimport { Pressable } from 'react-native';\n\nimport type { SendbirdMessage } from '@sendbird/uikit-utils';\nimport { getMessageTimeFormat } from '@sendbird/uikit-utils';\n\nimport Box from '../../components/Box';\nimport Text from '../../components/Text';\nimport createStyleSheet from '../../styles/createStyleSheet';\nimport useUIKitTheme from '../../theme/useUIKitTheme';\nimport Avatar from '../Avatar';\nimport type { GroupChannelMessageProps } from './index';\n\ntype Props = GroupChannelMessageProps<SendbirdMessage>;\n\nconst MessageContainer = (props: Props) => {\n  if (props.variant === 'incoming') {\n    return <MessageContainer.Incoming {...props} />;\n  } else {\n    return <MessageContainer.Outgoing {...props} />;\n  }\n};\n\nMessageContainer.Incoming = function MessageContainerIncoming({\n  children,\n  groupedWithNext,\n  groupedWithPrev,\n  message,\n  onPressAvatar,\n  strings,\n  parentMessage,\n}: Props) {\n  const { colors } = useUIKitTheme();\n  const color = colors.ui.groupChannelMessage.incoming;\n\n  return (\n    <Box flexDirection={'row'} justifyContent={'flex-start'} alignItems={'flex-end'}>\n      <Box width={26} marginRight={12}>\n        {(message.isFileMessage() || message.isUserMessage()) && !groupedWithNext && (\n          <Pressable onPress={onPressAvatar}>\n            <Avatar size={26} uri={message.sender?.profileUrl} />\n          </Pressable>\n        )}\n      </Box>\n      <Box flexShrink={1}>\n        {parentMessage}\n        {!groupedWithPrev && !message.parentMessage && (\n          <Box marginLeft={12} marginBottom={4}>\n            {(message.isFileMessage() || message.isUserMessage()) && (\n              <Text caption1 color={color.enabled.textSenderName} numberOfLines={1}>\n                {strings?.senderName ?? message.sender.nickname}\n              </Text>\n            )}\n          </Box>\n        )}\n\n        <Box flexDirection={'row'} alignItems={'flex-end'}>\n          <Box style={styles.bubble}>{children}</Box>\n          {!groupedWithNext && (\n            <Box marginLeft={4}>\n              <Text caption4 color={color.enabled.textTime}>\n                {strings?.sentDate ?? getMessageTimeFormat(new Date(message.createdAt))}\n              </Text>\n            </Box>\n          )}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nMessageContainer.Outgoing = function MessageContainerOutgoing({\n  children,\n  message,\n  groupedWithNext,\n  strings,\n  sendingStatus,\n  parentMessage,\n}: Props) {\n  const { colors } = useUIKitTheme();\n  const color = colors.ui.groupChannelMessage.outgoing;\n\n  return (\n    <Box>\n      {parentMessage}\n      <Box flexDirection={'row'} justifyContent={'flex-end'} alignItems={'flex-end'}>\n        <Box flexDirection={'row'} alignItems={'flex-end'} justifyContent={'center'}>\n          {sendingStatus && <Box marginRight={4}>{sendingStatus}</Box>}\n          {!groupedWithNext && (\n            <Box marginRight={4}>\n              <Text caption4 color={color.enabled.textTime}>\n                {strings?.sentDate ?? getMessageTimeFormat(new Date(message.createdAt))}\n              </Text>\n            </Box>\n          )}\n        </Box>\n        <Box style={styles.bubble}>{children}</Box>\n      </Box>\n    </Box>\n  );\n};\n\nconst styles = createStyleSheet({\n  bubble: {\n    maxWidth: 240,\n    overflow: 'hidden',\n    flexShrink: 1,\n  },\n});\n\nexport default MessageContainer;\n"],"mappings":"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"}