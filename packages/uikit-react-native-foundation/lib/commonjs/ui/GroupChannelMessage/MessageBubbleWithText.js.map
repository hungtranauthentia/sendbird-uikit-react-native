{"version":3,"names":["_react","_interopRequireDefault","require","_uikitUtils","_Box","_RegexText","_Text","_createStyleSheet","_useUIKitTheme","obj","__esModule","default","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","MessageBubbleWithText","_ref","backgroundColor","message","onPressURL","onLongPress","strings","variant","regexTextPatterns","renderRegexTextChildren","msg","colors","useUIKitTheme","color","ui","groupChannelMessage","createElement","style","styles","bubble","body3","enabled","textMsg","suppressHighlighting","patterns","regex","urlRegexStrict","replacer","_ref2","match","parentProps","keyPrefix","index","onPress","urlText","Boolean","updatedAt","textEdited","edited","createStyleSheet","paddingHorizontal","paddingVertical","textDecorationLine","_default","exports"],"sources":["MessageBubbleWithText.tsx"],"sourcesContent":["import React from 'react';\n\nimport { SendbirdUserMessage, urlRegexStrict } from '@sendbird/uikit-utils';\n\nimport Box from '../../components/Box';\nimport RegexText, { RegexTextPattern } from '../../components/RegexText';\nimport Text from '../../components/Text';\nimport createStyleSheet from '../../styles/createStyleSheet';\nimport useUIKitTheme from '../../theme/useUIKitTheme';\nimport type { GroupChannelMessageProps } from './index';\n\ntype Props = GroupChannelMessageProps<\n  SendbirdUserMessage,\n  {\n    backgroundColor?: string;\n    regexTextPatterns?: RegexTextPattern[];\n    renderRegexTextChildren?: (message: SendbirdUserMessage) => string;\n  }\n>;\n\nconst MessageBubbleWithText = ({\n  backgroundColor,\n  message,\n  onPressURL,\n  onLongPress,\n  strings,\n  variant = 'incoming',\n  regexTextPatterns = [],\n  renderRegexTextChildren = (msg) => msg.message,\n}: Props) => {\n  const { colors } = useUIKitTheme();\n  const color = colors.ui.groupChannelMessage[variant];\n  return (\n    <Box backgroundColor={backgroundColor} style={styles.bubble}>\n      <Text body3 color={color.enabled.textMsg} suppressHighlighting>\n        <RegexText\n          body3\n          color={color.enabled.textMsg}\n          patterns={[\n            ...regexTextPatterns,\n            {\n              regex: urlRegexStrict,\n              replacer({ match, parentProps, keyPrefix, index }) {\n                return (\n                  <Text\n                    {...parentProps}\n                    key={`${keyPrefix}-${index}`}\n                    onPress={() => onPressURL?.(match)}\n                    onLongPress={onLongPress}\n                    style={[parentProps?.style, styles.urlText]}\n                  >\n                    {match}\n                  </Text>\n                );\n              },\n            },\n          ]}\n        >\n          {renderRegexTextChildren(message)}\n        </RegexText>\n        {Boolean(message.updatedAt) && (\n          <Text body3 color={color.enabled.textEdited}>\n            {strings?.edited ?? ' (edited)'}\n          </Text>\n        )}\n      </Text>\n    </Box>\n  );\n};\n\nconst styles = createStyleSheet({\n  bubble: {\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n  },\n  urlText: {\n    textDecorationLine: 'underline',\n  },\n});\nexport default MessageBubbleWithText;\n"],"mappings":"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"}