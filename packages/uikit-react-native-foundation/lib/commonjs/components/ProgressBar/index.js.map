{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_uikitUtils","_useUIKitTheme","_interopRequireDefault","_Box","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ProgressBar","_ref","current","total","trackColor","barColor","overlay","style","colors","useUIKitTheme","uiColors","track","primary","bar","onBackground01","progress","useRef","Animated","Value","percent","stopped","useEffect","Number","isNaN","animation","timing","toValue","duration","useNativeDriver","easing","Easing","linear","start","stop","NOOP","createElement","height","flexDirection","backgroundColor","alignItems","overflow","View","position","width","interpolate","inputRange","outputRange","extrapolate","opacity","StyleSheet","absoluteFill","_default","exports"],"sources":["index.tsx"],"sourcesContent":["import React, { ReactNode, useEffect, useRef } from 'react';\nimport { Animated, Easing, StyleSheet, ViewStyle } from 'react-native';\n\nimport { NOOP } from '@sendbird/uikit-utils';\n\nimport useUIKitTheme from '../../theme/useUIKitTheme';\nimport Box from '../Box';\n\ntype Props = {\n  current: number;\n  total: number;\n  trackColor?: string;\n  barColor?: string;\n  overlay?: ReactNode | undefined;\n  style?: ViewStyle;\n};\nconst ProgressBar = ({ current = 100, total = 100, trackColor, barColor, overlay, style }: Props) => {\n  const { colors } = useUIKitTheme();\n\n  const uiColors = {\n    track: trackColor ?? colors.primary,\n    bar: barColor ?? colors.onBackground01,\n  };\n\n  const progress = useRef(new Animated.Value(0)).current;\n  const percent = current / total;\n  const stopped = percent === 0;\n\n  useEffect(() => {\n    if (!Number.isNaN(percent)) {\n      const animation = Animated.timing(progress, {\n        toValue: stopped ? 0 : percent,\n        duration: stopped ? 0 : 100,\n        useNativeDriver: false,\n        easing: Easing.linear,\n      });\n\n      animation.start();\n      return () => animation.stop();\n    }\n\n    return NOOP;\n  }, [percent]);\n\n  return (\n    <Box\n      height={36}\n      flexDirection={'row'}\n      backgroundColor={uiColors.track}\n      alignItems={'center'}\n      overflow={'hidden'}\n      style={style}\n    >\n      <Animated.View\n        style={{\n          position: 'absolute',\n          width: progress.interpolate({\n            inputRange: [0, 1],\n            outputRange: ['0%', '100%'],\n            extrapolate: 'clamp',\n          }),\n          height: '100%',\n          opacity: 0.38,\n          backgroundColor: uiColors.bar,\n        }}\n      />\n      <Box style={StyleSheet.absoluteFill}>{overlay}</Box>\n    </Box>\n  );\n};\n\nexport default ProgressBar;\n"],"mappings":"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"}