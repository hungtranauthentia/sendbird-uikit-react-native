{"version":3,"names":["_react","_interopRequireDefault","require","_uikitUtils","_Text","obj","__esModule","default","RegexText","_ref","children","patterns","props","length","createElement","Fragment","matchedTexts","forEach","_ref2","patterIndex","regex","replacer","matchedTextsTemp","concat","offset","text","index","replaceWithRegex","params","parentProps","keyPrefix","String","splice","_default","exports"],"sources":["index.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\n\nimport { replaceWithRegex } from '@sendbird/uikit-utils';\n\nimport Text, { TextProps } from '../Text';\n\nexport interface RegexTextPattern {\n  regex: RegExp;\n  replacer(params: {\n    match: string;\n    groups: string[];\n    index: number;\n    keyPrefix: string;\n    parentProps?: TextProps;\n  }): string | ReactNode;\n}\n\ntype Props = { patterns: RegexTextPattern[] } & TextProps;\n\nconst RegexText = ({ children, patterns, ...props }: Props) => {\n  if (patterns.length === 0 || typeof children !== 'string') return <>{children}</>;\n\n  const matchedTexts: Array<string | ReactNode> = [children];\n\n  patterns.forEach(({ regex, replacer }, patterIndex) => {\n    const matchedTextsTemp = matchedTexts.concat();\n    let offset = 0;\n    matchedTextsTemp.forEach((text, index) => {\n      if (typeof text === 'string' && text) {\n        const children = replaceWithRegex(\n          text,\n          regex,\n          (params) => replacer({ ...params, parentProps: props, keyPrefix: index + params.keyPrefix }),\n          String(patterIndex),\n        );\n\n        if (children.length > 1) {\n          matchedTexts.splice(index + offset, 1, ...children);\n          offset += children.length - 1;\n        }\n      }\n    });\n  });\n\n  return <Text {...props}>{matchedTexts}</Text>;\n};\n\nexport default RegexText;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,WAAA,GAAAD,OAAA;AAEA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA0C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAe1C,MAAMG,SAAS,GAAGC,IAAA,IAA6C;EAAA,IAA5C;IAAEC,QAAQ;IAAEC,QAAQ;IAAE,GAAGC;EAAa,CAAC,GAAAH,IAAA;EACxD,IAAIE,QAAQ,CAACE,MAAM,KAAK,CAAC,IAAI,OAAOH,QAAQ,KAAK,QAAQ,EAAE,oBAAOV,MAAA,CAAAO,OAAA,CAAAO,aAAA,CAAAd,MAAA,CAAAO,OAAA,CAAAQ,QAAA,QAAGL,QAAQ,CAAI;EAEjF,MAAMM,YAAuC,GAAG,CAACN,QAAQ,CAAC;EAE1DC,QAAQ,CAACM,OAAO,CAAC,CAAAC,KAAA,EAAsBC,WAAW,KAAK;IAAA,IAArC;MAAEC,KAAK;MAAEC;IAAS,CAAC,GAAAH,KAAA;IACnC,MAAMI,gBAAgB,GAAGN,YAAY,CAACO,MAAM,EAAE;IAC9C,IAAIC,MAAM,GAAG,CAAC;IACdF,gBAAgB,CAACL,OAAO,CAAC,CAACQ,IAAI,EAAEC,KAAK,KAAK;MACxC,IAAI,OAAOD,IAAI,KAAK,QAAQ,IAAIA,IAAI,EAAE;QACpC,MAAMf,QAAQ,GAAG,IAAAiB,4BAAgB,EAC/BF,IAAI,EACJL,KAAK,EACJQ,MAAM,IAAKP,QAAQ,CAAC;UAAE,GAAGO,MAAM;UAAEC,WAAW,EAAEjB,KAAK;UAAEkB,SAAS,EAAEJ,KAAK,GAAGE,MAAM,CAACE;QAAU,CAAC,CAAC,EAC5FC,MAAM,CAACZ,WAAW,CAAC,CACpB;QAED,IAAIT,QAAQ,CAACG,MAAM,GAAG,CAAC,EAAE;UACvBG,YAAY,CAACgB,MAAM,CAACN,KAAK,GAAGF,MAAM,EAAE,CAAC,EAAE,GAAGd,QAAQ,CAAC;UACnDc,MAAM,IAAId,QAAQ,CAACG,MAAM,GAAG,CAAC;QAC/B;MACF;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,oBAAOb,MAAA,CAAAO,OAAA,CAAAO,aAAA,CAACV,KAAA,CAAAG,OAAI,EAAKK,KAAK,EAAGI,YAAY,CAAQ;AAC/C,CAAC;AAAC,IAAAiB,QAAA,GAEazB,SAAS;AAAA0B,OAAA,CAAA3B,OAAA,GAAA0B,QAAA"}