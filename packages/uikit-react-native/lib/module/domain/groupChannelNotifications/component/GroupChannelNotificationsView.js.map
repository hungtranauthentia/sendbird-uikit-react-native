{"version":3,"names":["React","useContext","Pressable","ScrollView","View","PushTriggerOption","Divider","Icon","Switch","Text","createStyleSheet","useUIKitTheme","useForceUpdate","useLocalization","GroupChannelNotificationsContexts","GroupChannelNotificationsView","channel","Fragment","STRINGS","colors","forceUpdate","turnedOnNotifications","myPushTriggerOption","OFF","turnedOnNotificationsOptionAll","ALL","DEFAULT","some","it","turnedOnNotificationsOptionMentionsOnly","MENTION_ONLY","toggleNotificationSwitch","val","setMyPushTriggerOption","onPressNotificationsOption","option","createElement","bounces","contentContainerStyle","styles","container","Bar","subtitle2","title","GROUP_CHANNEL_NOTIFICATIONS","MENU_NOTIFICATIONS","description","MENU_NOTIFICATIONS_DESC","component","value","onChangeValue","body3","onPress","MENU_NOTIFICATIONS_OPTION_ALL","color","primary","onBackground03","icon","size","MENU_NOTIFICATIONS_OPTION_MENTION_ONLY","_ref","style","barContainer","titleContainer","numberOfLines","onBackground01","Boolean","onBackground02","desc","paddingHorizontal","paddingVertical","flexDirection","alignItems","flex","marginRight","marginTop"],"sources":["GroupChannelNotificationsView.tsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Pressable, ScrollView, View } from 'react-native';\n\nimport { PushTriggerOption } from '@sendbird/chat';\nimport { Divider, Icon, Switch, Text, createStyleSheet, useUIKitTheme } from '@sendbird/uikit-react-native-foundation';\nimport { useForceUpdate } from '@sendbird/uikit-utils';\n\nimport { useLocalization } from '../../../hooks/useContext';\nimport { GroupChannelNotificationsContexts } from '../module/moduleContext';\n\nconst GroupChannelNotificationsView = () => {\n  const { channel } = useContext(GroupChannelNotificationsContexts.Fragment);\n  const { STRINGS } = useLocalization();\n  const { colors } = useUIKitTheme();\n  const forceUpdate = useForceUpdate();\n\n  const turnedOnNotifications = channel.myPushTriggerOption !== PushTriggerOption.OFF;\n  const turnedOnNotificationsOptionAll = [PushTriggerOption.ALL, PushTriggerOption.DEFAULT].some(\n    (it) => it === channel.myPushTriggerOption,\n  );\n  const turnedOnNotificationsOptionMentionsOnly = channel.myPushTriggerOption === PushTriggerOption.MENTION_ONLY;\n\n  const toggleNotificationSwitch = async (val: boolean) => {\n    if (val) {\n      await channel.setMyPushTriggerOption(PushTriggerOption.ALL);\n    } else {\n      await channel.setMyPushTriggerOption(PushTriggerOption.OFF);\n    }\n    forceUpdate();\n  };\n\n  const onPressNotificationsOption = async (option: PushTriggerOption.ALL | PushTriggerOption.MENTION_ONLY) => {\n    await channel.setMyPushTriggerOption(option);\n    forceUpdate();\n  };\n\n  return (\n    <ScrollView bounces={false} contentContainerStyle={styles.container}>\n      <Bar\n        subtitle2\n        title={STRINGS.GROUP_CHANNEL_NOTIFICATIONS.MENU_NOTIFICATIONS}\n        description={STRINGS.GROUP_CHANNEL_NOTIFICATIONS.MENU_NOTIFICATIONS_DESC}\n        component={<Switch value={turnedOnNotifications} onChangeValue={toggleNotificationSwitch} />}\n      />\n      <Divider />\n      {turnedOnNotifications && (\n        <>\n          <Bar\n            body3\n            onPress={() => onPressNotificationsOption(PushTriggerOption.ALL)}\n            title={STRINGS.GROUP_CHANNEL_NOTIFICATIONS.MENU_NOTIFICATIONS_OPTION_ALL}\n            component={\n              <Icon\n                color={turnedOnNotificationsOptionAll ? colors.primary : colors.onBackground03}\n                icon={turnedOnNotificationsOptionAll ? 'radio-on' : 'radio-off'}\n                size={24}\n              />\n            }\n          />\n          <Divider />\n          <Bar\n            body3\n            onPress={() => onPressNotificationsOption(PushTriggerOption.MENTION_ONLY)}\n            title={STRINGS.GROUP_CHANNEL_NOTIFICATIONS.MENU_NOTIFICATIONS_OPTION_MENTION_ONLY}\n            component={\n              <Icon\n                color={turnedOnNotificationsOptionMentionsOnly ? colors.primary : colors.onBackground03}\n                icon={turnedOnNotificationsOptionMentionsOnly ? 'radio-on' : 'radio-off'}\n                size={24}\n              />\n            }\n          />\n          <Divider />\n        </>\n      )}\n    </ScrollView>\n  );\n};\n\ntype BarProps = {\n  title: string;\n  onPress?: () => void;\n  description?: string;\n  component: React.ReactNode;\n  subtitle2?: boolean;\n  body3?: boolean;\n};\nconst Bar = ({ title, onPress, description, component, subtitle2, body3 }: BarProps) => {\n  const { colors } = useUIKitTheme();\n  return (\n    <Pressable onPress={onPress} style={styles.barContainer}>\n      <View style={styles.titleContainer}>\n        <Text body3={body3} subtitle2={subtitle2} numberOfLines={1} color={colors.onBackground01} style={styles.title}>\n          {title}\n        </Text>\n        <View>{component}</View>\n      </View>\n      {Boolean(description) && (\n        <Text body3 color={colors.onBackground02} style={styles.desc}>\n          {description}\n        </Text>\n      )}\n    </Pressable>\n  );\n};\n\nconst styles = createStyleSheet({\n  container: {\n    paddingHorizontal: 16,\n  },\n  barContainer: {\n    paddingVertical: 16,\n  },\n  titleContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  title: {\n    flex: 1,\n    marginRight: 8,\n  },\n  desc: {\n    marginTop: 8,\n    flex: 1,\n  },\n});\n\nexport default GroupChannelNotificationsView;\n"],"mappings":"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"}