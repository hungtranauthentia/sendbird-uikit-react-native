{"version":3,"names":["React","useContext","useState","View","Icon","MenuBar","Switch","useUIKitTheme","useLocalization","GroupChannelModerationContexts","GroupChannelModerationMenu","_ref","onPressMenuBannedUsers","onPressMenuMutedMembers","onPressMenuOperators","menuItemsCreator","menu","channel","Fragment","STRINGS","colors","isFrozen","setIsFrozen","toggleFreeze","unfreeze","freeze","menuItems","icon","name","GROUP_CHANNEL_MODERATION","MENU_OPERATORS","onPress","actionItem","createElement","color","onBackground01","visible","isBroadcast","MENU_MUTED_MEMBERS","MENU_BANNED_USERS","MENU_FREEZE_CHANNEL","value","onChangeValue","map","key","disabled","iconColor","iconBackgroundColor","actionLabel"],"sources":["GroupChannelModerationMenu.tsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { View } from 'react-native';\n\nimport type { MenuBarProps } from '@sendbird/uikit-react-native-foundation';\nimport { Icon, MenuBar, Switch, useUIKitTheme } from '@sendbird/uikit-react-native-foundation';\n\nimport { useLocalization } from '../../../hooks/useContext';\nimport { GroupChannelModerationContexts } from '../module/moduleContext';\nimport type { GroupChannelModerationProps } from '../types';\n\nconst GroupChannelModerationMenu = ({\n  onPressMenuBannedUsers,\n  onPressMenuMutedMembers,\n  onPressMenuOperators,\n  menuItemsCreator = (menu) => menu,\n}: GroupChannelModerationProps['Menu']) => {\n  const { channel } = useContext(GroupChannelModerationContexts.Fragment);\n  const { STRINGS } = useLocalization();\n  const { colors } = useUIKitTheme();\n\n  const [isFrozen, setIsFrozen] = useState(() => channel.isFrozen);\n\n  const toggleFreeze = async () => {\n    if (channel.isFrozen) {\n      await channel.unfreeze();\n    } else {\n      await channel.freeze();\n    }\n\n    setIsFrozen(channel.isFrozen);\n  };\n\n  const menuItems: MenuBarProps[] = menuItemsCreator([\n    {\n      icon: 'operator',\n      name: STRINGS.GROUP_CHANNEL_MODERATION.MENU_OPERATORS,\n      onPress: () => onPressMenuOperators(),\n      actionItem: <Icon icon={'chevron-right'} color={colors.onBackground01} />,\n    },\n    {\n      icon: 'mute',\n      visible: !channel.isBroadcast,\n      name: STRINGS.GROUP_CHANNEL_MODERATION.MENU_MUTED_MEMBERS,\n      onPress: () => onPressMenuMutedMembers(),\n      actionItem: <Icon icon={'chevron-right'} color={colors.onBackground01} />,\n    },\n    {\n      icon: 'ban',\n      name: STRINGS.GROUP_CHANNEL_MODERATION.MENU_BANNED_USERS,\n      onPress: () => onPressMenuBannedUsers(),\n      actionItem: <Icon icon={'chevron-right'} color={colors.onBackground01} />,\n    },\n    {\n      icon: 'freeze',\n      visible: !channel.isBroadcast,\n      name: STRINGS.GROUP_CHANNEL_MODERATION.MENU_FREEZE_CHANNEL,\n      actionItem: <Switch value={isFrozen} onChangeValue={toggleFreeze} />,\n      onPress: toggleFreeze,\n    },\n  ]);\n\n  return (\n    <View>\n      {menuItems.map((menu) => {\n        return (\n          <MenuBar\n            key={menu.name}\n            onPress={menu.onPress}\n            name={menu.name}\n            disabled={menu.disabled}\n            visible={menu.visible}\n            icon={menu.icon}\n            iconColor={menu.iconColor}\n            iconBackgroundColor={menu.iconBackgroundColor}\n            actionLabel={menu.actionLabel}\n            actionItem={menu.actionItem}\n          />\n        );\n      })}\n    </View>\n  );\n};\n\nexport default GroupChannelModerationMenu;\n"],"mappings":"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"}