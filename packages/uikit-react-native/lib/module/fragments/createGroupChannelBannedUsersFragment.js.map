{"version":3,"names":["React","useUserList","useActionMenu","useFreshCallback","StatusComposition","UserActionBar","createGroupChannelBannedUsersModule","useLocalization","useSendbirdChat","createGroupChannelBannedUsersFragment","initModule","GroupChannelBannedUsersModule","_ref","onPressHeaderLeft","channel","renderUser","queryCreator","createBannedUserListQuery","limit","STRINGS","currentUser","sdk","openMenu","users","deleteUser","loading","next","refresh","error","_renderUser","props","user","createElement","muted","uri","profileUrl","name","nickname","LABELS","USER_NO_NAME","userId","USER_BAR_ME_POSTFIX","disabled","onPressActionMenu","title","menuItems","UNBAN","onPress","unbanUser","then","Provider","Header","LoadingComponent","StatusLoading","Boolean","ErrorComponent","StatusError","onPressRetry","List","bannedUsers","ListEmptyComponent","StatusEmpty","onLoadNext"],"sources":["createGroupChannelBannedUsersFragment.tsx"],"sourcesContent":["import React from 'react';\n\nimport { useUserList } from '@sendbird/uikit-chat-hooks';\nimport { useActionMenu } from '@sendbird/uikit-react-native-foundation';\nimport { useFreshCallback } from '@sendbird/uikit-utils';\n\nimport StatusComposition from '../components/StatusComposition';\nimport UserActionBar from '../components/UserActionBar';\nimport { createGroupChannelBannedUsersModule } from '../domain/groupChannelBannedUsers';\nimport type {\n  GroupChannelBannedUsersFragment,\n  GroupChannelBannedUsersModule,\n} from '../domain/groupChannelBannedUsers/types';\nimport { useLocalization, useSendbirdChat } from '../hooks/useContext';\n\nconst createGroupChannelBannedUsersFragment = (\n  initModule?: Partial<GroupChannelBannedUsersModule>,\n): GroupChannelBannedUsersFragment => {\n  const GroupChannelBannedUsersModule = createGroupChannelBannedUsersModule(initModule);\n\n  return ({\n    onPressHeaderLeft,\n    channel,\n    renderUser,\n    queryCreator = () => channel.createBannedUserListQuery({ limit: 20 }),\n  }) => {\n    const { STRINGS } = useLocalization();\n    const { currentUser, sdk } = useSendbirdChat();\n    const { openMenu } = useActionMenu();\n\n    const { users, deleteUser, loading, next, refresh, error } = useUserList(sdk, { queryCreator });\n\n    const _renderUser: NonNullable<typeof renderUser> = useFreshCallback((props) => {\n      if (renderUser) return renderUser(props);\n\n      const { user } = props;\n\n      return (\n        <UserActionBar\n          muted={false}\n          uri={user.profileUrl}\n          name={\n            (user.nickname || STRINGS.LABELS.USER_NO_NAME) +\n            (user.userId === currentUser?.userId ? STRINGS.LABELS.USER_BAR_ME_POSTFIX : '')\n          }\n          disabled={user.userId === currentUser?.userId}\n          onPressActionMenu={() => {\n            openMenu({\n              title: user.nickname || STRINGS.LABELS.USER_NO_NAME,\n              menuItems: [\n                {\n                  title: STRINGS.LABELS.UNBAN,\n                  onPress: () => channel.unbanUser(user).then(() => deleteUser(user.userId)),\n                },\n              ],\n            });\n          }}\n        />\n      );\n    });\n\n    return (\n      <GroupChannelBannedUsersModule.Provider channel={channel}>\n        <GroupChannelBannedUsersModule.Header onPressHeaderLeft={onPressHeaderLeft} />\n        <StatusComposition\n          loading={loading}\n          LoadingComponent={<GroupChannelBannedUsersModule.StatusLoading />}\n          error={Boolean(error)}\n          ErrorComponent={<GroupChannelBannedUsersModule.StatusError onPressRetry={refresh} />}\n        >\n          <GroupChannelBannedUsersModule.List\n            bannedUsers={users}\n            renderUser={_renderUser}\n            ListEmptyComponent={<GroupChannelBannedUsersModule.StatusEmpty />}\n            onLoadNext={next}\n          />\n        </StatusComposition>\n      </GroupChannelBannedUsersModule.Provider>\n    );\n  };\n};\n\nexport default createGroupChannelBannedUsersFragment;\n"],"mappings":"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"}