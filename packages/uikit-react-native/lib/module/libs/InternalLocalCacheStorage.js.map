{"version":3,"names":["ASYNC_NOOP","InternalLocalCacheStorage","constructor","storage","_defineProperty","getAllKeys","getItem","key","removeItem","setItem","value","multiGet","keys","Promise","all","map","multiRemove","multiSet","keyValuePairs","_ref"],"sources":["InternalLocalCacheStorage.ts"],"sourcesContent":["import { ASYNC_NOOP } from '@sendbird/uikit-utils';\n\nimport type { KeyValuePairGet, KeyValuePairSet, LocalCacheStorage } from '../types';\n\nexport default class InternalLocalCacheStorage implements LocalCacheStorage {\n  constructor(private storage: LocalCacheStorage) {}\n\n  getAllKeys() {\n    return this.storage.getAllKeys();\n  }\n\n  getItem(key: string) {\n    return this.storage.getItem(key);\n  }\n\n  removeItem(key: string) {\n    return this.storage.removeItem(key);\n  }\n\n  setItem(key: string, value: string) {\n    return this.storage.setItem(key, value);\n  }\n\n  async multiGet(keys: string[]) {\n    if (this.storage.multiGet) {\n      return this.storage.multiGet(keys);\n    } else {\n      return Promise.all(keys.map(async (key) => [key, await this.getItem(key)] as KeyValuePairGet));\n    }\n  }\n\n  async multiRemove(keys: string[]) {\n    if (this.storage.multiRemove) {\n      await this.storage.multiRemove(keys);\n    } else {\n      await Promise.all(keys.map(async (key) => this.removeItem(key)));\n    }\n  }\n\n  async multiSet(keyValuePairs: Array<KeyValuePairSet>) {\n    if (this.storage.multiSet) {\n      await this.storage.multiSet(keyValuePairs);\n    } else {\n      await Promise.all(keyValuePairs.map(([key, value]) => this.storage.setItem(key, value)));\n    }\n  }\n\n  clear = ASYNC_NOOP;\n  flushGetRequests = ASYNC_NOOP;\n}\n"],"mappings":";;;AAAA,SAASA,UAAU,QAAQ,uBAAuB;AAIlD,eAAe,MAAMC,yBAAyB,CAA8B;EAC1EC,WAAWA,CAASC,OAA0B,EAAE;IAAA,KAA5BA,OAA0B,GAA1BA,OAA0B;IAAAC,eAAA,gBA0CtCJ,UAAU;IAAAI,eAAA,2BACCJ,UAAU;EA3CoB;EAEjDK,UAAUA,CAAA,EAAG;IACX,OAAO,IAAI,CAACF,OAAO,CAACE,UAAU,EAAE;EAClC;EAEAC,OAAOA,CAACC,GAAW,EAAE;IACnB,OAAO,IAAI,CAACJ,OAAO,CAACG,OAAO,CAACC,GAAG,CAAC;EAClC;EAEAC,UAAUA,CAACD,GAAW,EAAE;IACtB,OAAO,IAAI,CAACJ,OAAO,CAACK,UAAU,CAACD,GAAG,CAAC;EACrC;EAEAE,OAAOA,CAACF,GAAW,EAAEG,KAAa,EAAE;IAClC,OAAO,IAAI,CAACP,OAAO,CAACM,OAAO,CAACF,GAAG,EAAEG,KAAK,CAAC;EACzC;EAEA,MAAMC,QAAQA,CAACC,IAAc,EAAE;IAC7B,IAAI,IAAI,CAACT,OAAO,CAACQ,QAAQ,EAAE;MACzB,OAAO,IAAI,CAACR,OAAO,CAACQ,QAAQ,CAACC,IAAI,CAAC;IACpC,CAAC,MAAM;MACL,OAAOC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACG,GAAG,CAAC,MAAOR,GAAG,IAAK,CAACA,GAAG,EAAE,MAAM,IAAI,CAACD,OAAO,CAACC,GAAG,CAAC,CAAoB,CAAC,CAAC;IAChG;EACF;EAEA,MAAMS,WAAWA,CAACJ,IAAc,EAAE;IAChC,IAAI,IAAI,CAACT,OAAO,CAACa,WAAW,EAAE;MAC5B,MAAM,IAAI,CAACb,OAAO,CAACa,WAAW,CAACJ,IAAI,CAAC;IACtC,CAAC,MAAM;MACL,MAAMC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACG,GAAG,CAAC,MAAOR,GAAG,IAAK,IAAI,CAACC,UAAU,CAACD,GAAG,CAAC,CAAC,CAAC;IAClE;EACF;EAEA,MAAMU,QAAQA,CAACC,aAAqC,EAAE;IACpD,IAAI,IAAI,CAACf,OAAO,CAACc,QAAQ,EAAE;MACzB,MAAM,IAAI,CAACd,OAAO,CAACc,QAAQ,CAACC,aAAa,CAAC;IAC5C,CAAC,MAAM;MACL,MAAML,OAAO,CAACC,GAAG,CAACI,aAAa,CAACH,GAAG,CAACI,IAAA;QAAA,IAAC,CAACZ,GAAG,EAAEG,KAAK,CAAC,GAAAS,IAAA;QAAA,OAAK,IAAI,CAAChB,OAAO,CAACM,OAAO,CAACF,GAAG,EAAEG,KAAK,CAAC;MAAA,EAAC,CAAC;IAC1F;EACF;AAIF"}