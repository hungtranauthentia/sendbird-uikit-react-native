{"version":3,"names":["Image","Linking","Platform","Logger","SBUUtils","openSettings","catch","OS","openURL","url","targetUrl","startsWith","e","warn","getImageSize","uri","Promise","resolve","reject","getSize","width","height","error","safeRun","callback","isExpo","_g","global","window"],"sources":["SBUUtils.ts"],"sourcesContent":["import { Image, Linking, Platform } from 'react-native';\n\nimport { Logger } from '@sendbird/uikit-utils';\n\nexport default class SBUUtils {\n  static openSettings() {\n    Linking.openSettings().catch(() => {\n      if (Platform.OS === 'ios') Linking.openURL('App-Prefs:root');\n    });\n  }\n\n  static async openURL(url: string) {\n    try {\n      let targetUrl = url;\n      if (!url.startsWith('http://') && !url.startsWith('https://')) {\n        targetUrl = 'https://' + url;\n      }\n      await Linking.openURL(targetUrl);\n    } catch (e) {\n      Logger.warn('Cannot open url', e);\n    }\n  }\n\n  static getImageSize(uri: string): Promise<{ width: number; height: number }> {\n    return new Promise((resolve, reject) => {\n      Image.getSize(\n        uri,\n        (width, height) => {\n          resolve({ width, height });\n        },\n        (error) => {\n          reject(error);\n        },\n      );\n    });\n  }\n\n  static async safeRun(callback: () => Promise<void>) {\n    try {\n      await callback();\n    } catch (e) {}\n  }\n\n  static isExpo() {\n    const _g = global ?? window;\n    return typeof _g === 'object' && 'expo' in _g;\n  }\n}\n"],"mappings":"AAAA,SAASA,KAAK,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,cAAc;AAEvD,SAASC,MAAM,QAAQ,uBAAuB;AAE9C,eAAe,MAAMC,QAAQ,CAAC;EAC5B,OAAOC,YAAYA,CAAA,EAAG;IACpBJ,OAAO,CAACI,YAAY,EAAE,CAACC,KAAK,CAAC,MAAM;MACjC,IAAIJ,QAAQ,CAACK,EAAE,KAAK,KAAK,EAAEN,OAAO,CAACO,OAAO,CAAC,gBAAgB,CAAC;IAC9D,CAAC,CAAC;EACJ;EAEA,aAAaA,OAAOA,CAACC,GAAW,EAAE;IAChC,IAAI;MACF,IAAIC,SAAS,GAAGD,GAAG;MACnB,IAAI,CAACA,GAAG,CAACE,UAAU,CAAC,SAAS,CAAC,IAAI,CAACF,GAAG,CAACE,UAAU,CAAC,UAAU,CAAC,EAAE;QAC7DD,SAAS,GAAG,UAAU,GAAGD,GAAG;MAC9B;MACA,MAAMR,OAAO,CAACO,OAAO,CAACE,SAAS,CAAC;IAClC,CAAC,CAAC,OAAOE,CAAC,EAAE;MACVT,MAAM,CAACU,IAAI,CAAC,iBAAiB,EAAED,CAAC,CAAC;IACnC;EACF;EAEA,OAAOE,YAAYA,CAACC,GAAW,EAA8C;IAC3E,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtClB,KAAK,CAACmB,OAAO,CACXJ,GAAG,EACH,CAACK,KAAK,EAAEC,MAAM,KAAK;QACjBJ,OAAO,CAAC;UAAEG,KAAK;UAAEC;QAAO,CAAC,CAAC;MAC5B,CAAC,EACAC,KAAK,IAAK;QACTJ,MAAM,CAACI,KAAK,CAAC;MACf,CAAC,CACF;IACH,CAAC,CAAC;EACJ;EAEA,aAAaC,OAAOA,CAACC,QAA6B,EAAE;IAClD,IAAI;MACF,MAAMA,QAAQ,EAAE;IAClB,CAAC,CAAC,OAAOZ,CAAC,EAAE,CAAC;EACf;EAEA,OAAOa,MAAMA,CAAA,EAAG;IACd,MAAMC,EAAE,GAAGC,MAAM,IAAIC,MAAM;IAC3B,OAAO,OAAOF,EAAE,KAAK,QAAQ,IAAI,MAAM,IAAIA,EAAE;EAC/C;AACF"}