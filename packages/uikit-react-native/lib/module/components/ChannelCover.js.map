{"version":3,"names":["React","View","Avatar","Icon","useUIKitTheme","getMembersExcludeMe","isDefaultCoverImage","useSendbirdChat","ChannelCover","_ref","channel","avatarProps","currentUser","colors","isGroupChannel","coverUrl","createElement","_extends","uri","isBroadcast","style","containerStyle","icon","size","color","onBackgroundReverse01","backgroundColor","secondary","borderRadius","padding","memberCount","_channel$members$filt","_channel$members$filt2","otherUserProfile","members","filter","m","userId","profileUrl","Group","map","key","isOpenChannel"],"sources":["ChannelCover.tsx"],"sourcesContent":["import React from 'react';\nimport type { StyleProp, ViewStyle } from 'react-native';\nimport { View } from 'react-native';\n\nimport { Avatar, Icon, useUIKitTheme } from '@sendbird/uikit-react-native-foundation';\nimport { SendbirdBaseChannel, getMembersExcludeMe, isDefaultCoverImage } from '@sendbird/uikit-utils';\n\nimport { useSendbirdChat } from '../hooks/useContext';\n\ntype Props = {\n  channel: SendbirdBaseChannel;\n  size: number;\n  containerStyle?: StyleProp<ViewStyle>;\n};\n\nconst ChannelCover = ({ channel, ...avatarProps }: Props) => {\n  const { currentUser } = useSendbirdChat();\n  const { colors } = useUIKitTheme();\n\n  if (channel.isGroupChannel()) {\n    // custom channel cover\n    if (!isDefaultCoverImage(channel.coverUrl) || !currentUser) {\n      return <Avatar uri={channel.coverUrl} {...avatarProps} />;\n    }\n\n    // broadcast channel cover\n    if (channel.isBroadcast) {\n      return (\n        <View style={avatarProps.containerStyle}>\n          <Icon\n            icon={'broadcast'}\n            size={avatarProps.size * (4 / 7)}\n            color={colors.onBackgroundReverse01}\n            containerStyle={{\n              backgroundColor: colors.secondary,\n              borderRadius: avatarProps.size * 0.5,\n              padding: avatarProps.size * (3 / 7) * 0.5,\n            }}\n          />\n        </View>\n      );\n    }\n\n    // no members, use anonymous profile\n    if (channel.memberCount <= 1) {\n      return <Avatar {...avatarProps} />;\n    }\n\n    // 1:1, use member profile\n    if (channel.memberCount === 2) {\n      const otherUserProfile = channel.members.filter((m) => m.userId !== currentUser.userId)?.[0]?.profileUrl;\n      return <Avatar uri={otherUserProfile} {...avatarProps} />;\n    }\n\n    // group, use members profile\n    return (\n      <Avatar.Group {...avatarProps}>\n        {getMembersExcludeMe(channel, currentUser?.userId).map((m) => (\n          <Avatar key={m.userId} uri={m.profileUrl} />\n        ))}\n      </Avatar.Group>\n    );\n  }\n\n  if (channel.isOpenChannel()) {\n    // channel cover\n    return <Avatar uri={channel.coverUrl} {...avatarProps} />;\n  }\n\n  return <Avatar uri={channel.coverUrl} {...avatarProps} />;\n};\n\nexport default ChannelCover;\n"],"mappings":"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"}