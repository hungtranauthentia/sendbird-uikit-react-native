{"version":3,"names":["_react","_interopRequireDefault","require","_uikitChatHooks","_uikitReactNativeFoundation","_uikitUtils","_StatusComposition","_UserActionBar","_openChannelBannedUsers","_useContext","obj","__esModule","default","createOpenChannelBannedUsersFragment","initModule","OpenChannelBannedUsersModule","createOpenChannelBannedUsersModule","_ref","onPressHeaderLeft","channel","renderUser","queryCreator","createBannedUserListQuery","limit","STRINGS","useLocalization","currentUser","sdk","useSendbirdChat","openMenu","useActionMenu","users","deleteUser","loading","next","refresh","error","useUserList","_renderUser","useFreshCallback","props","user","createElement","muted","uri","profileUrl","name","nickname","LABELS","USER_NO_NAME","userId","USER_BAR_ME_POSTFIX","disabled","onPressActionMenu","title","menuItems","UNBAN","onPress","unbanUser","then","Provider","Header","LoadingComponent","StatusLoading","Boolean","ErrorComponent","StatusError","onPressRetry","List","bannedUsers","onLoadNext","ListEmptyComponent","StatusEmpty","_default","exports"],"sources":["createOpenChannelBannedUsersFragment.tsx"],"sourcesContent":["import React from 'react';\n\nimport { useUserList } from '@sendbird/uikit-chat-hooks';\nimport { useActionMenu } from '@sendbird/uikit-react-native-foundation';\nimport { useFreshCallback } from '@sendbird/uikit-utils';\n\nimport StatusComposition from '../components/StatusComposition';\nimport UserActionBar from '../components/UserActionBar';\nimport { createOpenChannelBannedUsersModule } from '../domain/openChannelBannedUsers';\nimport type {\n  OpenChannelBannedUsersFragment,\n  OpenChannelBannedUsersModule,\n} from '../domain/openChannelBannedUsers/types';\nimport { useLocalization, useSendbirdChat } from '../hooks/useContext';\n\nconst createOpenChannelBannedUsersFragment = (\n  initModule?: Partial<OpenChannelBannedUsersModule>,\n): OpenChannelBannedUsersFragment => {\n  const OpenChannelBannedUsersModule = createOpenChannelBannedUsersModule(initModule);\n\n  return ({\n    onPressHeaderLeft,\n    channel,\n    renderUser,\n    queryCreator = () => channel.createBannedUserListQuery({ limit: 20 }),\n  }) => {\n    const { STRINGS } = useLocalization();\n    const { currentUser, sdk } = useSendbirdChat();\n    const { openMenu } = useActionMenu();\n\n    const { users, deleteUser, loading, next, refresh, error } = useUserList(sdk, { queryCreator });\n\n    const _renderUser: NonNullable<typeof renderUser> = useFreshCallback((props) => {\n      if (renderUser) return renderUser(props);\n\n      const { user } = props;\n\n      return (\n        <UserActionBar\n          muted={false}\n          uri={user.profileUrl}\n          name={\n            (user.nickname || STRINGS.LABELS.USER_NO_NAME) +\n            (user.userId === currentUser?.userId ? STRINGS.LABELS.USER_BAR_ME_POSTFIX : '')\n          }\n          disabled={user.userId === currentUser?.userId}\n          onPressActionMenu={() => {\n            openMenu({\n              title: user.nickname || STRINGS.LABELS.USER_NO_NAME,\n              menuItems: [\n                {\n                  title: STRINGS.LABELS.UNBAN,\n                  onPress: () => channel.unbanUser(user).then(() => deleteUser(user.userId)),\n                },\n              ],\n            });\n          }}\n        />\n      );\n    });\n\n    return (\n      <OpenChannelBannedUsersModule.Provider channel={channel}>\n        <OpenChannelBannedUsersModule.Header onPressHeaderLeft={onPressHeaderLeft} />\n        <StatusComposition\n          loading={loading}\n          LoadingComponent={<OpenChannelBannedUsersModule.StatusLoading />}\n          error={Boolean(error)}\n          ErrorComponent={<OpenChannelBannedUsersModule.StatusError onPressRetry={refresh} />}\n        >\n          <OpenChannelBannedUsersModule.List\n            renderUser={_renderUser}\n            bannedUsers={users}\n            onLoadNext={next}\n            ListEmptyComponent={<OpenChannelBannedUsersModule.StatusEmpty />}\n          />\n        </StatusComposition>\n      </OpenChannelBannedUsersModule.Provider>\n    );\n  };\n};\n\nexport default createOpenChannelBannedUsersFragment;\n"],"mappings":"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"}