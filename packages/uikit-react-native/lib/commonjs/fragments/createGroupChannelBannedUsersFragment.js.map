{"version":3,"names":["_react","_interopRequireDefault","require","_uikitChatHooks","_uikitReactNativeFoundation","_uikitUtils","_StatusComposition","_UserActionBar","_groupChannelBannedUsers","_useContext","obj","__esModule","default","createGroupChannelBannedUsersFragment","initModule","GroupChannelBannedUsersModule","createGroupChannelBannedUsersModule","_ref","onPressHeaderLeft","channel","renderUser","queryCreator","createBannedUserListQuery","limit","STRINGS","useLocalization","currentUser","sdk","useSendbirdChat","openMenu","useActionMenu","users","deleteUser","loading","next","refresh","error","useUserList","_renderUser","useFreshCallback","props","user","createElement","muted","uri","profileUrl","name","nickname","LABELS","USER_NO_NAME","userId","USER_BAR_ME_POSTFIX","disabled","onPressActionMenu","title","menuItems","UNBAN","onPress","unbanUser","then","Provider","Header","LoadingComponent","StatusLoading","Boolean","ErrorComponent","StatusError","onPressRetry","List","bannedUsers","ListEmptyComponent","StatusEmpty","onLoadNext","_default","exports"],"sources":["createGroupChannelBannedUsersFragment.tsx"],"sourcesContent":["import React from 'react';\n\nimport { useUserList } from '@sendbird/uikit-chat-hooks';\nimport { useActionMenu } from '@sendbird/uikit-react-native-foundation';\nimport { useFreshCallback } from '@sendbird/uikit-utils';\n\nimport StatusComposition from '../components/StatusComposition';\nimport UserActionBar from '../components/UserActionBar';\nimport { createGroupChannelBannedUsersModule } from '../domain/groupChannelBannedUsers';\nimport type {\n  GroupChannelBannedUsersFragment,\n  GroupChannelBannedUsersModule,\n} from '../domain/groupChannelBannedUsers/types';\nimport { useLocalization, useSendbirdChat } from '../hooks/useContext';\n\nconst createGroupChannelBannedUsersFragment = (\n  initModule?: Partial<GroupChannelBannedUsersModule>,\n): GroupChannelBannedUsersFragment => {\n  const GroupChannelBannedUsersModule = createGroupChannelBannedUsersModule(initModule);\n\n  return ({\n    onPressHeaderLeft,\n    channel,\n    renderUser,\n    queryCreator = () => channel.createBannedUserListQuery({ limit: 20 }),\n  }) => {\n    const { STRINGS } = useLocalization();\n    const { currentUser, sdk } = useSendbirdChat();\n    const { openMenu } = useActionMenu();\n\n    const { users, deleteUser, loading, next, refresh, error } = useUserList(sdk, { queryCreator });\n\n    const _renderUser: NonNullable<typeof renderUser> = useFreshCallback((props) => {\n      if (renderUser) return renderUser(props);\n\n      const { user } = props;\n\n      return (\n        <UserActionBar\n          muted={false}\n          uri={user.profileUrl}\n          name={\n            (user.nickname || STRINGS.LABELS.USER_NO_NAME) +\n            (user.userId === currentUser?.userId ? STRINGS.LABELS.USER_BAR_ME_POSTFIX : '')\n          }\n          disabled={user.userId === currentUser?.userId}\n          onPressActionMenu={() => {\n            openMenu({\n              title: user.nickname || STRINGS.LABELS.USER_NO_NAME,\n              menuItems: [\n                {\n                  title: STRINGS.LABELS.UNBAN,\n                  onPress: () => channel.unbanUser(user).then(() => deleteUser(user.userId)),\n                },\n              ],\n            });\n          }}\n        />\n      );\n    });\n\n    return (\n      <GroupChannelBannedUsersModule.Provider channel={channel}>\n        <GroupChannelBannedUsersModule.Header onPressHeaderLeft={onPressHeaderLeft} />\n        <StatusComposition\n          loading={loading}\n          LoadingComponent={<GroupChannelBannedUsersModule.StatusLoading />}\n          error={Boolean(error)}\n          ErrorComponent={<GroupChannelBannedUsersModule.StatusError onPressRetry={refresh} />}\n        >\n          <GroupChannelBannedUsersModule.List\n            bannedUsers={users}\n            renderUser={_renderUser}\n            ListEmptyComponent={<GroupChannelBannedUsersModule.StatusEmpty />}\n            onLoadNext={next}\n          />\n        </StatusComposition>\n      </GroupChannelBannedUsersModule.Provider>\n    );\n  };\n};\n\nexport default createGroupChannelBannedUsersFragment;\n"],"mappings":"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"}