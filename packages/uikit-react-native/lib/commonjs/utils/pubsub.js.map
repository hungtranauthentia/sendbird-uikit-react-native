{"version":3,"names":["pubsub","subscribers","Set","publish","data","forEach","subscriber","setTimeout","subscribe","add","delete","_default","exports","default"],"sources":["pubsub.ts"],"sourcesContent":["export type PubSub<T> = {\n  publish: (data: T) => void;\n  subscribe: (subscriber: (data: T) => void) => () => void;\n};\n\nconst pubsub = <T>(): PubSub<T> => {\n  const subscribers = new Set<Function>();\n\n  return {\n    publish: (data: unknown) => {\n      subscribers.forEach((subscriber) => {\n        setTimeout(() => subscriber(data), 0);\n      });\n    },\n    subscribe: (subscriber: Function) => {\n      subscribers.add(subscriber);\n      return () => subscribers.delete(subscriber);\n    },\n  };\n};\n\nexport default pubsub;\n"],"mappings":";;;;;;AAKA,MAAMA,MAAM,GAAGA,CAAA,KAAoB;EACjC,MAAMC,WAAW,GAAG,IAAIC,GAAG,EAAY;EAEvC,OAAO;IACLC,OAAO,EAAGC,IAAa,IAAK;MAC1BH,WAAW,CAACI,OAAO,CAAEC,UAAU,IAAK;QAClCC,UAAU,CAAC,MAAMD,UAAU,CAACF,IAAI,CAAC,EAAE,CAAC,CAAC;MACvC,CAAC,CAAC;IACJ,CAAC;IACDI,SAAS,EAAGF,UAAoB,IAAK;MACnCL,WAAW,CAACQ,GAAG,CAACH,UAAU,CAAC;MAC3B,OAAO,MAAML,WAAW,CAACS,MAAM,CAACJ,UAAU,CAAC;IAC7C;EACF,CAAC;AACH,CAAC;AAAC,IAAAK,QAAA,GAEaX,MAAM;AAAAY,OAAA,CAAAC,OAAA,GAAAF,QAAA"}