{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeKeyboardController","_reactNativeSafeAreaContext","_uikitReactNativeFoundation","_uikitUtils","_useContext","_useMentionTextInput","_interopRequireDefault","_AttachmentsButton","_EditInput","_MessageToReplyPreview","_SendInput","_VoiceMessageInput","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","AUTO_FOCUS","Platform","select","ios","android","GET_INPUT_KEY","shouldReset","ChannelInput","props","channel","keyboardAvoidOffset","messageToEdit","setMessageToEdit","top","left","right","bottom","useSafeAreaInsets","colors","typography","useUIKitTheme","sbOptions","mentionManager","useSendbirdChat","selection","onSelectionChange","textInputRef","text","onChangeText","mentionedUsers","useMentionTextInput","inputMode","useIIFE","isFileMessage","mentionAvailable","uikit","groupChannel","enableMention","isGroupChannel","isBroadcast","inputKeyToRemount","inputHeight","setInputHeight","useState","styles","inputDefault","height","fontStyle","useMemo","body3","fontSize","lineHeight","textAlignVertical","textInputStyle","StyleSheet","flatten","input","style","useTypingTrigger","useTextClearOnDisabled","inputDisabled","useAutoFocusOnEditMode","onPressToMention","user","searchStringRange","mentionedMessageText","asMentionedMessageText","range","start","end","replace","shouldRenderInput","createElement","SafeAreaBottom","console","log","Fragment","KeyboardAvoidingView","keyboardVerticalOffset","behavior","View","paddingLeft","paddingRight","backgroundColor","background","onLayout","e","nativeEvent","layout","inputContainer","ref","VoiceMessageInput","AttachmentsButton","MessageToReplyPreview","autoFocus","SuggestedMentionList","topInset","bottomInset","useEffect","endTyping","startTyping","setText","chatDisabled","isUserMessage","setTimeout","_textInputRef$current","current","focus","_ref","createStyleSheet","justifyContent","width","flex","marginRight","borderRadius","paddingTop","paddingBottom","minHeight","maxHeight","_default","React","memo","exports"],"sources":["index.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { Platform, StyleProp, StyleSheet, TextInput, TextStyle, View } from 'react-native';\nimport { KeyboardAvoidingView } from 'react-native-keyboard-controller';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\nimport { createStyleSheet, useUIKitTheme } from '@sendbird/uikit-react-native-foundation';\nimport {\n  SendbirdBaseChannel,\n  SendbirdBaseMessage,\n  SendbirdFileMessage,\n  SendbirdFileMessageCreateParams,\n  SendbirdFileMessageUpdateParams,\n  SendbirdMember,\n  SendbirdUserMessage,\n  SendbirdUserMessageCreateParams,\n  SendbirdUserMessageUpdateParams,\n  replace,\n  useIIFE,\n} from '@sendbird/uikit-utils';\n\nimport { useSendbirdChat } from '../../hooks/useContext';\nimport useMentionTextInput from '../../hooks/useMentionTextInput';\nimport type { CommonComponent, MentionedUser, Range } from '../../types';\nimport type { AttachmentsButtonProps } from './AttachmentsButton';\nimport AttachmentsButton from './AttachmentsButton';\nimport EditInput from './EditInput';\nimport type { MessageToReplyPreviewProps } from './MessageToReplyPreview';\nimport { MessageToReplyPreview } from './MessageToReplyPreview';\nimport SendInput from './SendInput';\nimport VoiceMessageInput, { VoiceMessageInputProps } from './VoiceMessageInput';\n\nexport type SuggestedMentionListProps = {\n  text: string;\n  selection: Range;\n  topInset: number;\n  bottomInset: number;\n  inputHeight: number;\n  onPressToMention: (user: SendbirdMember, searchStringRange: Range) => void;\n  mentionedUsers: MentionedUser[];\n};\n\nexport type ChannelInputProps = {\n  // style\n  style?: StyleProp<TextStyle>;\n\n  // default\n  channel: SendbirdBaseChannel;\n  shouldRenderInput: boolean;\n  keyboardAvoidOffset: number;\n\n  // default actions\n  onPressSendUserMessage: (params: SendbirdUserMessageCreateParams) => Promise<void>;\n  onPressSendFileMessage: (params: SendbirdFileMessageCreateParams) => Promise<void>;\n  onPressUpdateUserMessage: (message: SendbirdUserMessage, params: SendbirdUserMessageUpdateParams) => Promise<void>;\n  onPressUpdateFileMessage: (message: SendbirdFileMessage, params: SendbirdFileMessageUpdateParams) => Promise<void>;\n\n  // input status\n  inputFrozen: boolean;\n  inputMuted: boolean;\n  inputDisabled: boolean;\n\n  // edit\n  messageToEdit: undefined | SendbirdUserMessage | SendbirdFileMessage;\n  setMessageToEdit: (message?: undefined | SendbirdUserMessage | SendbirdFileMessage) => void;\n\n  // reply - only available on group channel\n  messageToReply?: undefined | SendbirdUserMessage | SendbirdFileMessage;\n  setMessageToReply?: (message?: undefined | SendbirdUserMessage | SendbirdFileMessage) => void;\n\n  // mention\n  SuggestedMentionList?: CommonComponent<SuggestedMentionListProps>;\n\n  // sub-components\n  AttachmentsButton?: (props: AttachmentsButtonProps) => React.ReactNode | null;\n  MessageToReplyPreview?: (props: MessageToReplyPreviewProps) => React.ReactNode | null;\n  VoiceMessageInput?: (props: VoiceMessageInputProps) => React.ReactNode | null;\n};\n\nconst AUTO_FOCUS = Platform.select({ ios: false, android: true, default: false });\n\n// FIXME(iOS): Dynamic style does not work properly when typing the CJK. (https://github.com/facebook/react-native/issues/26107)\n//  To workaround temporarily, change the key for re-mount the component.\n//  -> This will affect to keyboard blur when add/remove first mentioned user.\nconst GET_INPUT_KEY = (shouldReset: boolean) => (shouldReset ? 'uikit-input-clear' : 'uikit-input');\n\n// TODO: Refactor 'Edit' mode to clearly\nconst ChannelInput = (props: ChannelInputProps) => {\n  const { channel, keyboardAvoidOffset, messageToEdit, setMessageToEdit } = props;\n\n  const { top, left, right, bottom } = useSafeAreaInsets();\n  const { colors, typography } = useUIKitTheme();\n  const { sbOptions, mentionManager } = useSendbirdChat();\n\n  const { selection, onSelectionChange, textInputRef, text, onChangeText, mentionedUsers } = useMentionTextInput({\n    messageToEdit,\n  });\n  const inputMode = useIIFE(() => {\n    if (messageToEdit && !messageToEdit.isFileMessage()) return 'edit';\n    else return 'send';\n  });\n\n  const mentionAvailable =\n    sbOptions.uikit.groupChannel.channel.enableMention && channel.isGroupChannel() && !channel.isBroadcast;\n  const inputKeyToRemount = GET_INPUT_KEY(mentionAvailable ? mentionedUsers.length === 0 : false);\n\n  const [inputHeight, setInputHeight] = useState(styles.inputDefault.height);\n\n  const fontStyle = useMemo(() => {\n    if (!typography.body3.fontSize) return typography.body3;\n    // NOTE: iOS does not support textAlignVertical, so we should adjust lineHeight to center the text in multiline TextInput.\n    return { ...typography.body3, lineHeight: typography.body3.fontSize * 1.275, textAlignVertical: 'center' };\n  }, [typography.body3.fontSize]);\n\n  const textInputStyle = StyleSheet.flatten([styles.input, fontStyle, props.style]);\n\n  useTypingTrigger(text, channel);\n  useTextClearOnDisabled(onChangeText, props.inputDisabled);\n  useAutoFocusOnEditMode(textInputRef, messageToEdit);\n\n  const onPressToMention = (user: SendbirdMember, searchStringRange: Range) => {\n    const mentionedMessageText = mentionManager.asMentionedMessageText(user, true);\n    const range = { start: searchStringRange.start, end: searchStringRange.start + mentionedMessageText.length - 1 };\n\n    onChangeText(replace(text, searchStringRange.start, searchStringRange.end, mentionedMessageText), { user, range });\n  };\n\n  if (!props.shouldRenderInput) {\n    return <SafeAreaBottom height={bottom} />;\n  }\n\n  console.log('KeyboardAvoidingView 2');\n\n  return (\n    <>\n      <KeyboardAvoidingView keyboardVerticalOffset={keyboardAvoidOffset} behavior=\"padding\">\n        <View style={{ paddingLeft: left, paddingRight: right, backgroundColor: colors.background }}>\n          <View onLayout={(e) => setInputHeight(e.nativeEvent.layout.height)} style={styles.inputContainer}>\n            {inputMode === 'send' && (\n              <SendInput\n                {...props}\n                key={inputKeyToRemount}\n                ref={textInputRef as never}\n                text={text}\n                onChangeText={onChangeText}\n                onSelectionChange={onSelectionChange}\n                mentionedUsers={mentionedUsers}\n                VoiceMessageInput={props.VoiceMessageInput ?? VoiceMessageInput}\n                AttachmentsButton={props.AttachmentsButton ?? AttachmentsButton}\n                MessageToReplyPreview={props.MessageToReplyPreview ?? MessageToReplyPreview}\n                style={textInputStyle}\n              />\n            )}\n            {inputMode === 'edit' && messageToEdit && (\n              <EditInput\n                {...props}\n                key={inputKeyToRemount}\n                ref={textInputRef as never}\n                text={text}\n                onChangeText={onChangeText}\n                autoFocus={AUTO_FOCUS}\n                onSelectionChange={onSelectionChange}\n                mentionedUsers={mentionedUsers}\n                messageToEdit={messageToEdit}\n                setMessageToEdit={setMessageToEdit}\n                style={textInputStyle}\n              />\n            )}\n          </View>\n          <SafeAreaBottom height={bottom} />\n        </View>\n      </KeyboardAvoidingView>\n      {mentionAvailable && props.SuggestedMentionList && (\n        <props.SuggestedMentionList\n          text={text}\n          selection={selection}\n          inputHeight={inputHeight}\n          topInset={top}\n          bottomInset={bottom}\n          onPressToMention={onPressToMention}\n          mentionedUsers={mentionedUsers}\n        />\n      )}\n    </>\n  );\n};\n\nconst useTypingTrigger = (text: string, channel: SendbirdBaseChannel) => {\n  if (channel.isGroupChannel()) {\n    useEffect(() => {\n      if (text.length === 0) channel.endTyping();\n      else channel.startTyping();\n    }, [text]);\n  }\n};\n\nconst useTextClearOnDisabled = (setText: (val: string) => void, chatDisabled: boolean) => {\n  useEffect(() => {\n    if (chatDisabled) setText('');\n  }, [chatDisabled]);\n};\n\nconst useAutoFocusOnEditMode = (\n  textInputRef: React.MutableRefObject<TextInput | undefined>,\n  messageToEdit?: SendbirdBaseMessage,\n) => {\n  useEffect(() => {\n    if (messageToEdit?.isUserMessage()) {\n      if (!AUTO_FOCUS) setTimeout(() => textInputRef.current?.focus(), 500);\n    }\n  }, [messageToEdit]);\n};\n\nconst SafeAreaBottom = ({ height }: { height: number }) => {\n  return <View style={{ height }} />;\n};\n\nconst styles = createStyleSheet({\n  inputContainer: {\n    justifyContent: 'center',\n    width: '100%',\n  },\n  inputDefault: {\n    height: 56,\n  },\n  input: {\n    flex: 1,\n    marginRight: 4,\n    borderRadius: 20,\n    paddingTop: 8,\n    paddingBottom: 8,\n    minHeight: 36,\n    // Android - padding area is hidden\n    // iOS - padding area is visible\n    maxHeight: Platform.select({ ios: 36 * 2 + 16, android: 36 * 2 }),\n  },\n});\n\nexport default React.memo(ChannelInput);\n"],"mappings":"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"}