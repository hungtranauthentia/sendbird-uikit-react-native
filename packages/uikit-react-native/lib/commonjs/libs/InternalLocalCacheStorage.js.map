{"version":3,"names":["_uikitUtils","require","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","InternalLocalCacheStorage","constructor","storage","ASYNC_NOOP","getAllKeys","getItem","removeItem","setItem","multiGet","keys","Promise","all","map","multiRemove","multiSet","keyValuePairs","_ref","exports","default"],"sources":["InternalLocalCacheStorage.ts"],"sourcesContent":["import { ASYNC_NOOP } from '@sendbird/uikit-utils';\n\nimport type { KeyValuePairGet, KeyValuePairSet, LocalCacheStorage } from '../types';\n\nexport default class InternalLocalCacheStorage implements LocalCacheStorage {\n  constructor(private storage: LocalCacheStorage) {}\n\n  getAllKeys() {\n    return this.storage.getAllKeys();\n  }\n\n  getItem(key: string) {\n    return this.storage.getItem(key);\n  }\n\n  removeItem(key: string) {\n    return this.storage.removeItem(key);\n  }\n\n  setItem(key: string, value: string) {\n    return this.storage.setItem(key, value);\n  }\n\n  async multiGet(keys: string[]) {\n    if (this.storage.multiGet) {\n      return this.storage.multiGet(keys);\n    } else {\n      return Promise.all(keys.map(async (key) => [key, await this.getItem(key)] as KeyValuePairGet));\n    }\n  }\n\n  async multiRemove(keys: string[]) {\n    if (this.storage.multiRemove) {\n      await this.storage.multiRemove(keys);\n    } else {\n      await Promise.all(keys.map(async (key) => this.removeItem(key)));\n    }\n  }\n\n  async multiSet(keyValuePairs: Array<KeyValuePairSet>) {\n    if (this.storage.multiSet) {\n      await this.storage.multiSet(keyValuePairs);\n    } else {\n      await Promise.all(keyValuePairs.map(([key, value]) => this.storage.setItem(key, value)));\n    }\n  }\n\n  clear = ASYNC_NOOP;\n  flushGetRequests = ASYNC_NOOP;\n}\n"],"mappings":"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"}