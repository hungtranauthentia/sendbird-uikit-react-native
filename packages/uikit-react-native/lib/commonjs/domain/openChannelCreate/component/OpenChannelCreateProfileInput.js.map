{"version":3,"names":["_react","_interopRequireDefault","require","_uikitReactNativeFoundation","_Icon","_uikitUtils","_useContext","_SBUError","_SBUUtils","obj","__esModule","default","OpenChannelCreateProfileInput","_ref","channelName","channelCoverFile","onChangeChannelName","onChangeChannelCoverFile","toast","useToast","openSheet","useBottomSheet","palette","colors","typography","useUIKitTheme","safeArea","useSafeAreaPadding","STRINGS","useLocalization","fileService","usePlatformService","onPressPhotoButton","sheetItems","title","OPEN_CHANNEL_CREATE","DIALOG_IMAGE_MENU_CAMERA","onPress","mediaFile","openCamera","mediaType","onOpenFailure","error","code","SBUError","CODE","ERR_PERMISSIONS_DENIED","alert","DIALOG","ALERT_PERMISSIONS_TITLE","message","ALERT_PERMISSIONS_MESSAGE","LABELS","PERMISSION_CAMERA","PERMISSION_APP_NAME","buttons","text","ALERT_PERMISSIONS_OK","SBUUtils","openSettings","show","TOAST","OPEN_CAMERA_ERROR","DIALOG_IMAGE_MENU_PHOTO_LIBRARY","mediaFiles","openMediaLibrary","selectionLimit","PERMISSION_DEVICE_STORAGE","OPEN_PHOTO_LIBRARY_ERROR","unshift","DIALOG_IMAGE_MENU_REMOVE","titleColor","undefined","createElement","Box","flexDirection","paddingVertical","paddingLeft","paddingRight","PressBox","style","styles","coverButton","activeOpacity","ifThenOr","Boolean","Avatar","size","uri","Icon","icon","borderBottomColor","onBackground04","inputContainer","TextInput","placeholder","PLACEHOLDER","subtitle1","input","backgroundColor","transparent","value","onChangeText","length","removeButtonContainer","color","onBackground03","createStyleSheet","marginRight","flex","alignItems","borderBottomWidth","paddingTop","paddingBottom","justifyContent","marginLeft","_default","exports"],"sources":["OpenChannelCreateProfileInput.tsx"],"sourcesContent":["import React from 'react';\n\nimport {\n  Avatar,\n  BottomSheetItem,\n  Box,\n  PressBox,\n  TextInput,\n  createStyleSheet,\n  useBottomSheet,\n  useToast,\n  useUIKitTheme,\n} from '@sendbird/uikit-react-native-foundation';\nimport Icon from '@sendbird/uikit-react-native-foundation/src/components/Icon';\nimport { ifThenOr, useSafeAreaPadding } from '@sendbird/uikit-utils';\n\nimport { useLocalization, usePlatformService } from '../../../hooks/useContext';\nimport SBUError from '../../../libs/SBUError';\nimport SBUUtils from '../../../libs/SBUUtils';\nimport type { OpenChannelCreateProps } from '../types';\n\nconst OpenChannelCreateProfileInput = ({\n  channelName,\n  channelCoverFile,\n  onChangeChannelName,\n  onChangeChannelCoverFile,\n}: OpenChannelCreateProps['ProfileInput']) => {\n  const toast = useToast();\n  const { openSheet } = useBottomSheet();\n  const { palette, colors, typography } = useUIKitTheme();\n  const safeArea = useSafeAreaPadding(['left', 'right']);\n\n  const { STRINGS } = useLocalization();\n  const { fileService } = usePlatformService();\n\n  const onPressPhotoButton = () => {\n    const sheetItems: BottomSheetItem['sheetItems'] = [\n      {\n        title: STRINGS.OPEN_CHANNEL_CREATE.DIALOG_IMAGE_MENU_CAMERA,\n        onPress: async () => {\n          const mediaFile = await fileService.openCamera({\n            mediaType: 'photo',\n            onOpenFailure: (error) => {\n              if (error.code === SBUError.CODE.ERR_PERMISSIONS_DENIED) {\n                alert({\n                  title: STRINGS.DIALOG.ALERT_PERMISSIONS_TITLE,\n                  message: STRINGS.DIALOG.ALERT_PERMISSIONS_MESSAGE(\n                    STRINGS.LABELS.PERMISSION_CAMERA,\n                    STRINGS.LABELS.PERMISSION_APP_NAME,\n                  ),\n                  buttons: [{ text: STRINGS.DIALOG.ALERT_PERMISSIONS_OK, onPress: () => SBUUtils.openSettings() }],\n                });\n              } else {\n                toast.show(STRINGS.TOAST.OPEN_CAMERA_ERROR, 'error');\n              }\n            },\n          });\n\n          if (mediaFile) onChangeChannelCoverFile(mediaFile);\n        },\n      },\n      {\n        title: STRINGS.OPEN_CHANNEL_CREATE.DIALOG_IMAGE_MENU_PHOTO_LIBRARY,\n        onPress: async () => {\n          const mediaFiles = await fileService.openMediaLibrary({\n            selectionLimit: 1,\n            mediaType: 'photo',\n            onOpenFailure: (error) => {\n              if (error.code === SBUError.CODE.ERR_PERMISSIONS_DENIED) {\n                alert({\n                  title: STRINGS.DIALOG.ALERT_PERMISSIONS_TITLE,\n                  message: STRINGS.DIALOG.ALERT_PERMISSIONS_MESSAGE(\n                    STRINGS.LABELS.PERMISSION_DEVICE_STORAGE,\n                    STRINGS.LABELS.PERMISSION_APP_NAME,\n                  ),\n                  buttons: [{ text: STRINGS.DIALOG.ALERT_PERMISSIONS_OK, onPress: () => SBUUtils.openSettings() }],\n                });\n              } else {\n                toast.show(STRINGS.TOAST.OPEN_PHOTO_LIBRARY_ERROR, 'error');\n              }\n            },\n          });\n          if (mediaFiles?.[0]) onChangeChannelCoverFile(mediaFiles[0]);\n        },\n      },\n    ];\n\n    if (channelCoverFile) {\n      sheetItems.unshift({\n        title: STRINGS.OPEN_CHANNEL_CREATE.DIALOG_IMAGE_MENU_REMOVE,\n        titleColor: colors.error,\n        onPress: () => {\n          onChangeChannelCoverFile(undefined);\n        },\n      });\n    }\n\n    openSheet({ sheetItems });\n  };\n\n  return (\n    <Box\n      flexDirection={'row'}\n      paddingVertical={16}\n      paddingLeft={16 + safeArea.paddingLeft}\n      paddingRight={16 + safeArea.paddingRight}\n    >\n      <PressBox onPress={onPressPhotoButton} style={styles.coverButton} activeOpacity={0.8}>\n        {ifThenOr(\n          Boolean(channelCoverFile),\n          <Avatar size={72} uri={channelCoverFile?.uri} />,\n          <Avatar.Icon size={72} icon={'camera'} />,\n        )}\n      </PressBox>\n      <Box borderBottomColor={colors.onBackground04} style={styles.inputContainer}>\n        <TextInput\n          placeholder={STRINGS.OPEN_CHANNEL_CREATE.PLACEHOLDER}\n          style={[typography.subtitle1, styles.input, { backgroundColor: palette.transparent }]}\n          value={channelName}\n          onChangeText={onChangeChannelName}\n        />\n\n        {channelName.length > 0 && (\n          <PressBox onPress={() => onChangeChannelName('')} style={styles.removeButtonContainer}>\n            <Icon color={colors.onBackground03} size={22} icon={'remove'} />\n          </PressBox>\n        )}\n      </Box>\n    </Box>\n  );\n};\n\nconst styles = createStyleSheet({\n  coverButton: {\n    marginRight: 20,\n  },\n  inputContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderBottomWidth: 1,\n  },\n  input: {\n    flex: 1,\n    paddingLeft: 0,\n    paddingRight: 0,\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  removeButtonContainer: {\n    alignItems: 'flex-end',\n    justifyContent: 'center',\n    marginLeft: 8,\n  },\n});\n\nexport default OpenChannelCreateProfileInput;\n"],"mappings":"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"}